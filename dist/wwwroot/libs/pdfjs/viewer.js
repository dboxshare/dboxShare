(function(l){function f(n){if(k[n])return k[n].exports;var h=k[n]={i:n,l:!1,exports:{}};l[n].call(h.exports,h,h.exports,f);h.l=!0;return h.exports}var k={};f.m=l;f.c=k;f.d=function(k,h,q){f.o(k,h)||Object.defineProperty(k,h,{configurable:!1,enumerable:!0,get:q})};f.n=function(k){var h=k&&k.__esModule?function(){return k["default"]}:function(){return k};f.d(h,"a",h);return h};f.o=function(f,h){return Object.prototype.hasOwnProperty.call(f,h)};f.p="";return f(f.s=8)})([function(l,f,k){function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function h(a,b){return b?a.replace(/\{\{\s*(\w+)\s*\}\}/g,function(a,c){return c in b?b[c]:"{{"+c+"}}"}):a}function q(a,b){var c=0,e=a.length-1;if(0===a.length||!b(a[e]))return a.length;if(b(a[c]))return c;for(;c<e;){var g=c+e>>1;b(a[g])?e=g:c=g+1}return c}Object.defineProperty(f,"__esModule",{value:!0});f.waitOnEventOrTimeout=f.WaitOnType=f.localized=f.animationStarted=f.normalizeWheelEventDelta=f.binarySearchFirstItem=f.watchScroll=f.scrollIntoView=f.getOutputScale=f.approximateFraction=f.roundToDivide=f.getVisibleElements=f.parseQueryString=f.noContextMenuHandler=f.getPDFFileNameFromURL=f.ProgressBar=f.EventBus=f.NullL10n=f.mozL10n=f.RendererType=f.PresentationModeState=f.cloneObj=f.isValidRotation=f.VERTICAL_PADDING=f.SCROLLBAR_PADDING=f.MAX_AUTO_SCALE=f.UNKNOWN_SCALE=f.MAX_SCALE=f.MIN_SCALE=f.DEFAULT_SCALE=f.DEFAULT_SCALE_VALUE=f.CSS_UNITS=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b=k(1);l=96/72;b.PDFJS.disableFullscreen=void 0===b.PDFJS.disableFullscreen?!1:b.PDFJS.disableFullscreen;b.PDFJS.useOnlyCssZoom=void 0===b.PDFJS.useOnlyCssZoom?!1:b.PDFJS.useOnlyCssZoom;b.PDFJS.maxCanvasPixels=void 0===b.PDFJS.maxCanvasPixels?16777216:b.PDFJS.maxCanvasPixels;b.PDFJS.disableHistory=void 0===b.PDFJS.disableHistory?!1:b.PDFJS.disableHistory;b.PDFJS.disableTextLayer=void 0===b.PDFJS.disableTextLayer?!1:b.PDFJS.disableTextLayer;b.PDFJS.ignoreCurrentPositionOnZoom=void 0===b.PDFJS.ignoreCurrentPositionOnZoom?!1:b.PDFJS.ignoreCurrentPositionOnZoom;b.PDFJS.locale=void 0===b.PDFJS.locale&&"undefined"!==typeof navigator?navigator.language:b.PDFJS.locale;var a={EVENT:"event",TIMEOUT:"timeout"};k=new Promise(function(a){window.requestAnimationFrame(a)});var e=Promise.resolve(),g=function(){function a(){n(this,a);this._listeners=Object.create(null)}d(a,[{key:"on",value:function(a,b){var c=this._listeners[a];c||(c=[],this._listeners[a]=c);c.push(b)}},{key:"off",value:function(a,b){var c=this._listeners[a],e=void 0;!c||0>(e=c.indexOf(b))||c.splice(e,1)}},{key:"dispatch",value:function(a){var b=this._listeners[a];if(b&&0!==b.length){var c=Array.prototype.slice.call(arguments,1);b.slice(0).forEach(function(a){a.apply(null,c)})}}}]);return a}(),p=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=c.height,g=c.width,c=c.units;n(this,a);this.visible=!0;this.div=document.querySelector(b+" .progress");this.bar=this.div.parentNode;this.height=e||100;this.width=g||100;this.units=c||"%";this.div.style.height=this.height+this.units;this.percent=0}d(a,[{key:"_updateBar",value:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)}},{key:"setWidth",value:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(a){this._indeterminate=isNaN(a);this._percent=Math.min(Math.max(a,0),100);this._updateBar()}}]);return a}();f.CSS_UNITS=l;f.DEFAULT_SCALE_VALUE="auto";f.DEFAULT_SCALE=1;f.MIN_SCALE=.25;f.MAX_SCALE=10;f.UNKNOWN_SCALE=0;f.MAX_AUTO_SCALE=1.25;f.SCROLLBAR_PADDING=40;f.VERTICAL_PADDING=5;f.isValidRotation=function(a){return Number.isInteger(a)&&0===a%90};f.cloneObj=function(a){var b=Object.create(null),c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b};f.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};f.RendererType={CANVAS:"canvas",SVG:"svg"};f.mozL10n=void 0;f.NullL10n={get:function(a,b,c){return Promise.resolve(h(c,b))},translate:function(a){return Promise.resolve()}};f.EventBus=g;f.ProgressBar=p;f.getPDFFileNameFromURL=function(a){for(var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf",c=0,e=a.length;c<e&&""===a[c].trim();)c++;if("data:"===a.substr(c,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),b;c=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;e=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);if(e=c.exec(e[1])||c.exec(e[2])||c.exec(e[3]))if(e=e[0],-1!==e.indexOf("%"))try{e=c.exec(decodeURIComponent(e))[0]}catch(w){}return e||b};f.noContextMenuHandler=function(a){a.preventDefault()};f.parseQueryString=function(a){a=a.split("\x26");for(var b=Object.create(null),c=0,e=a.length;c<e;++c){var g=a[c].split("\x3d"),d=g[0].toLowerCase(),g=1<g.length?g[1]:null;b[decodeURIComponent(d)]=decodeURIComponent(g)}return b};f.getVisibleElements=function(a,b){function c(a){a=a.div;return a.offsetTop+a.clientTop+a.clientHeight>g}for(var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,g=a.scrollTop,d=g+a.clientHeight,p=a.scrollLeft,t=p+a.clientWidth,u=[],f=void 0,h=void 0,k=void 0,x=void 0,l=x=h=void 0,h=void 0,n=0===b.length?0:q(b,c),G=b.length;n<G;n++){f=b[n];h=f.div;k=h.offsetTop+h.clientTop;x=h.clientHeight;if(k>d)break;l=h.offsetLeft+h.clientLeft;h=h.clientWidth;l+h<p||l>t||(h=Math.max(0,g-k)+Math.max(0,k+x-d),x=100*(x-h)/x|0,u.push({id:f.id,x:l,y:k,view:f,percent:x}))}d=u[0];p=u[u.length-1];e&&u.sort(function(a,b){var c=a.percent-b.percent;return.001<Math.abs(c)?-c:a.id-b.id});return{first:d,last:p,views:u}};f.roundToDivide=function(a,b){var c=a%b;return 0===c?a:Math.round(a-c+b)};f.approximateFraction=function(a){if(Math.floor(a)===a)return[a,1];var b=1/a;if(8<b)return[1,8];if(Math.floor(b)===b)return[1,b];for(var b=1<a?b:a,c=0,e=1,g=1,d=1;;){var p=c+g,t=e+d;if(8<t)break;b<=p/t?(g=p,d=t):(c=p,e=t)}return b-c/e<g/d-b?b===a?[c,e]:[e,c]:b===a?[g,d]:[d,g]};f.getOutputScale=function(a){a=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);return{sx:a,sy:a,scaled:1!==a}};f.scrollIntoView=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=a.offsetParent;if(e){for(var g=a.offsetTop+a.clientTop,d=a.offsetLeft+a.clientLeft;e.clientHeight===e.scrollHeight||c&&"hidden"===getComputedStyle(e).overflow;)if(e.dataset._scaleY&&(g/=e.dataset._scaleY,d/=e.dataset._scaleX),g+=e.offsetTop,d+=e.offsetLeft,e=e.offsetParent,!e)return;b&&(void 0!==b.top&&(g+=b.top),void 0!==b.left&&(d+=b.left,e.scrollLeft=d));e.scrollTop=g}else console.error("offsetParent is not set -- cannot scroll")};f.watchScroll=function(a,b){var c=function(c){g||(g=window.requestAnimationFrame(function(){g=null;var c=a.scrollTop,d=e.lastY;c!==d&&(e.down=c>d);e.lastY=c;b(e)}))},e={down:!0,lastY:a.scrollTop,_eventHandler:c},g=null;a.addEventListener("scroll",c,!0);return e};f.binarySearchFirstItem=q;f.normalizeWheelEventDelta=function(a){var b=Math.sqrt(a.deltaX*a.deltaX+a.deltaY*a.deltaY),c=Math.atan2(a.deltaY,a.deltaX);-.25*Math.PI<c&&c<.75*Math.PI&&(b=-b);0===a.deltaMode?b/=900:1===a.deltaMode&&(b/=30);return b};f.animationStarted=k;f.localized=e;f.WaitOnType=a;f.waitOnEventOrTimeout=function(e){function d(a){p instanceof g?p.off(t,f):p.removeEventListener(t,f);h&&clearTimeout(h);w.resolve(a)}var p=e.target,t=e.name;e=e.delay;e=void 0===e?0:e;if(!("object"===("undefined"===typeof p?"undefined":c(p))&&t&&"string"===typeof t&&Number.isInteger(e)&&0<=e))return Promise.reject(Error("waitOnEventOrTimeout - invalid paramaters."));var w=(0,b.createPromiseCapability)(),f=d.bind(null,a.EVENT);if(p instanceof g)p.on(t,f);else p.addEventListener(t,f);var q=d.bind(null,a.TIMEOUT),h=setTimeout(q,e);return w.promise}},function(l,f,k){f="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("pdf.js");l.exports=f},function(l,f,k){function n(d){d.on("documentload",function(){var c=document.createEvent("CustomEvent");c.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(c)});d.on("pagerendered",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagerendered",!0,!0,{pageNumber:c.pageNumber,cssTransform:c.cssTransform});c.source.div.dispatchEvent(b)});d.on("textlayerrendered",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:c.pageNumber});c.source.textLayerDiv.dispatchEvent(b)});d.on("pagechange",function(c){var b=document.createEvent("UIEvents");b.initUIEvent("pagechange",!0,!0,window,0);b.pageNumber=c.pageNumber;c.source.container.dispatchEvent(b)});d.on("pagesinit",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagesinit",!0,!0,null);c.source.container.dispatchEvent(b)});d.on("pagesloaded",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagesloaded",!0,!0,{pagesCount:c.pagesCount});c.source.container.dispatchEvent(b)});d.on("scalechange",function(c){var b=document.createEvent("UIEvents");b.initUIEvent("scalechange",!0,!0,window,0);b.scale=c.scale;b.presetValue=c.presetValue;c.source.container.dispatchEvent(b)});d.on("updateviewarea",function(c){var b=document.createEvent("UIEvents");b.initUIEvent("updateviewarea",!0,!0,window,0);b.location=c.location;c.source.container.dispatchEvent(b)});d.on("find",function(c){if(c.source!==window){var b=document.createEvent("CustomEvent");b.initCustomEvent("find"+c.type,!0,!0,{query:c.query,phraseSearch:c.phraseSearch,caseSensitive:c.caseSensitive,highlightAll:c.highlightAll,findPrevious:c.findPrevious});window.dispatchEvent(b)}});d.on("attachmentsloaded",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:c.attachmentsCount});c.source.container.dispatchEvent(b)});d.on("sidebarviewchanged",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("sidebarviewchanged",!0,!0,{view:c.view});c.source.outerContainer.dispatchEvent(b)});d.on("pagemode",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagemode",!0,!0,{mode:c.mode});c.source.pdfViewer.container.dispatchEvent(b)});d.on("namedaction",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("namedaction",!0,!0,{action:c.action});c.source.pdfViewer.container.dispatchEvent(b)});d.on("presentationmodechanged",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("presentationmodechanged",!0,!0,{active:c.active,switchInProgress:c.switchInProgress});window.dispatchEvent(b)});d.on("outlineloaded",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("outlineloaded",!0,!0,{outlineCount:c.outlineCount});c.source.container.dispatchEvent(b)})}Object.defineProperty(f,"__esModule",{value:!0});f.getGlobalEventBus=f.attachDOMEventsToEventBus=void 0;var h=k(0),q=null;f.attachDOMEventsToEventBus=n;f.getGlobalEventBus=function(){if(q)return q;q=new h.EventBus;n(q);return q}},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});var n=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}(),h={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};l=function(){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}n(f,[{key:"setViewer",value:function(d){this.pdfViewer=d}},{key:"setThumbnailViewer",value:function(d){this.pdfThumbnailViewer=d}},{key:"isHighestPriority",value:function(d){return this.highestPriorityPage===d.renderingId}},{key:"renderHighestPriority",value:function(d){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);this.pdfViewer.forceRendering(d)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||!this.onIdle||(this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4))}},{key:"getHighestPriority",value:function(d,c,b){var a=d.views,e=a.length;if(0===e)return!1;for(var g=0;g<e;++g){var p=a[g].view;if(!this.isViewFinished(p))return p}d=b?d.last.id:d.first.id-2;return c[d]&&!this.isViewFinished(c[d])?c[d]:null}},{key:"isViewFinished",value:function(d){return d.renderingState===h.FINISHED}},{key:"renderView",value:function(d){var c=this;switch(d.renderingState){case h.FINISHED:return!1;case h.PAUSED:this.highestPriorityPage=d.renderingId;d.resume();break;case h.RUNNING:this.highestPriorityPage=d.renderingId;break;case h.INITIAL:this.highestPriorityPage=d.renderingId;var b=function(){c.renderHighestPriority()};d.draw().then(b,b)}return!0}}]);return f}();f.RenderingStates=h;f.PDFRenderingQueue=l},function(l,f,k){function n(a){a.imageResourcesPath="./images/";a.workerSrc="./pdf.worker.js";a.cMapUrl="./cmaps/";a.cMapPacked=!0}function h(a){return new Promise(function(b,c){var e=m.appConfig,g=document.createElement("script");g.src=e.debuggerScriptPath;g.onload=function(){PDFBug.enable(a);PDFBug.init({PDFJS:v.PDFJS,OPS:v.OPS},e.mainContainer);b()};g.onerror=function(){c(Error("Cannot load debugger at "+g.src))};(document.getElementsByTagName("head")[0]||document.body).appendChild(g)})}function q(){var a=m.appConfig,b=void 0,c=document.location.search.substring(1),c=(0,y.parseQueryString)(c),b="file"in c?c.file:a.defaultUrl;U(b);var c=[],e=document.createElement("input");e.id=a.openFileInputName;e.className="fileInput";e.setAttribute("type","file");e.oncontextmenu=y.noContextMenuHandler;document.body.appendChild(e);window.File&&window.FileReader&&window.FileList&&window.Blob?e.value=null:(a.toolbar.openFile.setAttribute("hidden","true"),a.secondaryToolbar.openFileButton.setAttribute("hidden","true"));e.addEventListener("change",function(a){var b=a.target.files;b&&0!==b.length&&m.eventBus.dispatch("fileinputchange",{fileInput:a.target})});if(m.viewerPrefs.pdfBugEnabled){e=document.location.hash.substring(1);e=(0,y.parseQueryString)(e);"disableworker"in e&&(v.PDFJS.disableWorker="true"===e.disableworker);"disablerange"in e&&(v.PDFJS.disableRange="true"===e.disablerange);"disablestream"in e&&(v.PDFJS.disableStream="true"===e.disablestream);"disableautofetch"in e&&(v.PDFJS.disableAutoFetch="true"===e.disableautofetch);"disablefontface"in e&&(v.PDFJS.disableFontFace="true"===e.disablefontface);"disablehistory"in e&&(v.PDFJS.disableHistory="true"===e.disablehistory);"webgl"in e&&(v.PDFJS.disableWebGL="true"!==e.webgl);"useonlycsszoom"in e&&(v.PDFJS.useOnlyCssZoom="true"===e.useonlycsszoom);"verbosity"in e&&(v.PDFJS.verbosity=e.verbosity|0);"ignorecurrentpositiononzoom"in e&&(v.PDFJS.ignoreCurrentPositionOnZoom="true"===e.ignorecurrentpositiononzoom);if("textlayer"in e)switch(e.textlayer){case "off":v.PDFJS.disableTextLayer=!0;break;case "visible":case "shadow":case "hover":a.viewerContainer.classList.add("textLayer-"+e.textlayer)}"pdfbug"in e&&(v.PDFJS.pdfBug=!0,e=e.pdfbug.split(","),c.push(h(e)))}m.supportsPrinting||(a.toolbar.print.classList.add("hidden"),a.secondaryToolbar.printButton.classList.add("hidden"));m.supportsFullscreen||(a.toolbar.presentationModeButton.classList.add("hidden"),a.secondaryToolbar.presentationModeButton.classList.add("hidden"));m.supportsIntegratedFind&&a.toolbar.viewFind.classList.add("hidden");a.sidebar.mainContainer.addEventListener("transitionend",function(a){a.target===this&&m.eventBus.dispatch("resize")},!0);a.sidebar.toggleButton.addEventListener("click",function(){m.pdfSidebar.toggle()});Promise.all(c).then(function(){V(b)})["catch"](function(a){m.l10n.get("loading_error",null,"An error occurred while opening.").then(function(b){m.error(b,a)})})}function d(a){a=a.pageNumber;var b=a-1,e=m.pdfViewer.getPageView(b);a===m.page&&m.toolbar.updateLoadingIndicatorState(!1);e&&(m.pdfSidebar.isThumbnailViewVisible&&m.pdfThumbnailViewer.getThumbnail(b).setImage(e),v.PDFJS.pdfBug&&Stats.enabled&&e.stats&&Stats.add(a,e.stats),e.error&&m.l10n.get("rendering_error",null,"An error occurred while rendering the page.").then(function(a){m.error(a,e.error)}))}function c(a){}function b(a){a=a.mode;switch(a){case "thumbs":a=F.SidebarView.THUMBS;break;case "bookmarks":case "outline":a=F.SidebarView.OUTLINE;break;case "attachments":a=F.SidebarView.ATTACHMENTS;break;case "none":a=F.SidebarView.NONE;break;default:console.error('Invalid "pagemode" hash parameter: '+a);return}m.pdfSidebar.switchView(a,!0)}function a(a){switch(a.action){case "GoToPage":m.appConfig.toolbar.pageNumber.select();break;case "Find":m.supportsIntegratedFind||m.findBar.toggle()}}function e(a){var b=a.active;m.pdfViewer.presentationModeState=a.switchInProgress?y.PresentationModeState.CHANGING:b?y.PresentationModeState.FULLSCREEN:y.PresentationModeState.NORMAL}function g(a){m.pdfRenderingQueue.isThumbnailViewEnabled=m.pdfSidebar.isThumbnailViewVisible;var b=m.store;b&&m.isInitialViewSet&&b.set("sidebarView",a.view)["catch"](function(){})}function p(a){a=a.location;var b=m.store;b&&m.isInitialViewSet&&b.setMultiple({exists:!0,page:a.pageNumber,zoom:a.scale,scrollLeft:a.left,scrollTop:a.top,rotation:a.rotation})["catch"](function(){});a=m.pdfLinkService.getAnchorUrl(a.pdfOpenParams);m.appConfig.toolbar.viewBookmark.href=a;m.appConfig.secondaryToolbar.viewBookmarkButton.href=a;a=m.pdfViewer.getPageView(m.page-1).renderingState!==W.RenderingStates.FINISHED;m.toolbar.updateLoadingIndicatorState(a)}function t(){var a=m.pdfViewer;if(m.pdfDocument){var b=a.currentScaleValue;if("auto"===b||"page-fit"===b||"page-width"===b)a.currentScaleValue=b;a.update()}}function u(a){if(a=a.hash)m.isInitialViewSet?m.pdfHistory.popStateInProgress||m.pdfLinkService.setHash(a):m.initialBookmark=a}function r(){m.requestPresentationMode()}function z(){document.getElementById(m.appConfig.openFileInputName).click()}function w(){window.print()}function E(){m.download()}function B(){m.pdfDocument&&(m.page=1)}function A(){m.pdfDocument&&(m.page=m.pagesCount)}function C(){m.page++}function D(){m.page--}function P(){m.zoomIn()}function H(){m.zoomOut()}function x(a){var b=m.pdfViewer;b.currentPageLabel=a.value;a.value!==b.currentPageNumber.toString()&&a.value!==b.currentPageLabel&&m.toolbar.setPageNumber(b.currentPageNumber,b.currentPageLabel)}function Q(a){m.pdfViewer.currentScaleValue=a.value}function I(){m.rotatePages(90)}function G(){m.rotatePages(-90)}function O(){m.pdfDocumentProperties.open()}function R(a){m.findController.executeCommand("find"+a.type,{query:a.query,phraseSearch:a.phraseSearch,caseSensitive:a.caseSensitive,highlightAll:a.highlightAll,findPrevious:a.findPrevious})}function S(a){m.findController.executeCommand("find",{query:a.query,phraseSearch:a.phraseSearch,caseSensitive:!1,highlightAll:!0,findPrevious:!1})}function X(a){m.toolbar.setPageScale(a.presetValue,a.scale);m.pdfViewer.update()}function Y(a){m.pdfThumbnailViewer.pagesRotation=a.pagesRotation;m.forceRendering();m.pdfViewer.currentPageNumber=a.pageNumber}function Z(a){var b=a.pageNumber;m.toolbar.setPageNumber(b,a.pageLabel||null);m.secondaryToolbar.setPageNumber(b);m.pdfSidebar.isThumbnailViewVisible&&m.pdfThumbnailViewer.scrollThumbnailIntoView(b);v.PDFJS.pdfBug&&Stats.enabled&&(a=m.pdfViewer.getPageView(b-1),a.stats&&Stats.add(b,a.stats))}function aa(a){var b=m.pdfViewer;if(!b.isInPresentationMode)if(a.ctrlKey||a.metaKey){var e=m.supportedMouseWheelZoomModifierKeys;if(!(a.ctrlKey&&!e.ctrlKey||a.metaKey&&!e.metaKey||(a.preventDefault(),K))){var e=b.currentScale,c=3*(0,y.normalizeWheelEventDelta)(a);0>c?m.zoomOut(-c):m.zoomIn(c);c=b.currentScale;if(e!==c){var e=c/e-1,c=b.container.getBoundingClientRect(),g=a.clientY-c.top;b.container.scrollLeft+=(a.clientX-c.left)*e;b.container.scrollTop+=g*e}}}else K=!0,clearTimeout(ba),ba=setTimeout(function(){K=!1},1E3)}function ca(a){if(m.secondaryToolbar.isOpen){var b=m.appConfig;(m.pdfViewer.containsElement(a.target)||b.toolbar.container.contains(a.target)&&a.target!==b.secondaryToolbar.toggleButton)&&m.secondaryToolbar.close()}}function da(a){if(!m.overlayManager.active){var b=!1,e=!1,c=(a.ctrlKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.metaKey?8:0),g=m.pdfViewer,d=g&&g.isInPresentationMode;if(1===c||8===c||5===c||12===c)switch(a.keyCode){case 70:m.supportsIntegratedFind||(m.findBar.open(),b=!0);break;case 71:m.supportsIntegratedFind||((b=m.findController.state)&&m.findController.executeCommand("findagain",{query:b.query,phraseSearch:b.phraseSearch,caseSensitive:b.caseSensitive,highlightAll:b.highlightAll,findPrevious:5===c||12===c}),b=!0);break;case 61:case 107:case 187:case 171:d||m.zoomIn();b=!0;break;case 173:case 109:case 189:d||m.zoomOut();b=!0;break;case 48:case 96:d||(setTimeout(function(){g.currentScaleValue=y.DEFAULT_SCALE_VALUE}),b=!1);break;case 38:if(d||1<m.page)m.page=1,e=b=!0;break;case 40:if(d||m.page<m.pagesCount)m.page=m.pagesCount,e=b=!0}if(1===c||8===c)switch(a.keyCode){case 83:m.download(),b=!0}if(3===c||10===c)switch(a.keyCode){case 80:m.requestPresentationMode();b=!0;break;case 71:m.appConfig.toolbar.pageNumber.select(),b=!0}if(b)e&&!d&&g.focus(),a.preventDefault();else{var p=document.activeElement||document.querySelector(":focus"),r=p&&p.tagName.toUpperCase();if("INPUT"!==r&&"TEXTAREA"!==r&&"SELECT"!==r||27===a.keyCode){if(0===c)switch(a.keyCode){case 38:case 33:case 8:if(!d&&"page-fit"!==g.currentScaleValue)break;case 37:if(g.isHorizontalScrollbarEnabled)break;case 75:case 80:1<m.page&&m.page--;b=!0;break;case 27:m.secondaryToolbar.isOpen&&(m.secondaryToolbar.close(),b=!0);!m.supportsIntegratedFind&&m.findBar.opened&&(m.findBar.close(),b=!0);break;case 40:case 34:case 32:if(!d&&"page-fit"!==g.currentScaleValue)break;case 39:if(g.isHorizontalScrollbarEnabled)break;case 74:case 78:m.page<m.pagesCount&&m.page++;b=!0;break;case 36:if(d||1<m.page)m.page=1,e=b=!0;break;case 35:if(d||m.page<m.pagesCount)m.page=m.pagesCount,e=b=!0;break;case 83:m.pdfCursorTools.switchTool(L.CursorTool.SELECT);break;case 72:m.pdfCursorTools.switchTool(L.CursorTool.HAND);break;case 82:m.rotatePages(90)}if(4===c)switch(a.keyCode){case 32:if(!d&&"page-fit"!==g.currentScaleValue)break;1<m.page&&m.page--;b=!0;break;case 82:m.rotatePages(-90)}b||d||!(33<=a.keyCode&&40>=a.keyCode||32===a.keyCode&&"BUTTON"!==r)||(e=!0);e&&!g.containsElement(p)&&g.focus();b&&a.preventDefault()}}}}function ea(a){switch(a){case "UseThumbs":return F.SidebarView.THUMBS;case "UseOutlines":return F.SidebarView.OUTLINE;case "UseAttachments":return F.SidebarView.ATTACHMENTS}return F.SidebarView.NONE}Object.defineProperty(f,"__esModule",{value:!0});f.PDFPrintServiceFactory=f.DefaultExternalServices=f.PDFViewerApplication=void 0;var ga=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var e=[],c=!0,g=!1,d=void 0;try{for(var p=a[Symbol.iterator](),r;!(c=(r=p.next()).done)&&(e.push(r.value),!b||e.length!==b);c=!0);}catch(fa){g=!0,d=fa}finally{try{if(!c&&p["return"])p["return"]()}finally{if(g)throw d;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),y=k(0),v=k(1),L=k(6),W=k(3),F=k(10),ha=k(2),ia=k(11),ja=k(12),ka=k(13),la=k(14),ma=k(15),na=k(7),oa=k(16),pa=k(5),qa=k(17),ra=k(18),sa=k(19),ta=k(21),ua=k(26),va=k(27),wa=k(28);l={updateFindControlState:function(a){},initPassiveLoading:function(a){},fallback:function(a,b){},reportTelemetry:function(a){},createDownloadManager:function(){throw Error("Not implemented: createDownloadManager");},createPreferences:function(){throw Error("Not implemented: createPreferences");},createL10n:function(){throw Error("Not implemented: createL10n");},supportsIntegratedFind:!1,supportsDocumentFonts:!0,supportsDocumentColors:!0,supportedMouseWheelZoomModifierKeys:{ctrlKey:!0,metaKey:!0}};var m={initialBookmark:document.location.hash.substring(1),initialized:!1,fellback:!1,appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfCursorTools:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,l10n:null,isInitialViewSet:!1,downloadComplete:!1,viewerPrefs:{sidebarViewOnLoad:F.SidebarView.NONE,pdfBugEnabled:!1,showPreviousViewOnLoad:!0,defaultZoomValue:"",disablePageMode:!1,disablePageLabels:!1,renderer:"canvas",enhanceTextSelection:!1,renderInteractiveForms:!1,enablePrintAutoRotate:!1},isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",externalServices:l,_boundEvents:{},initialize:function(a){var b=this;this.preferences=this.externalServices.createPreferences();n(v.PDFJS);this.appConfig=a;return this._readPreferences().then(function(){return b._initializeL10n()}).then(function(){return b._initializeViewerComponents()}).then(function(){b.bindEvents();b.bindWindowEvents();b.l10n.translate(a.appContainer||document.documentElement).then(function(){b.eventBus.dispatch("localized")});b.isViewerEmbedded&&!v.PDFJS.isExternalLinkTargetSet()&&(v.PDFJS.externalLinkTarget=v.PDFJS.LinkTarget.TOP);b.initialized=!0})},_readPreferences:function(){var a=this.preferences,b=this.viewerPrefs;return Promise.all([a.get("enableWebGL").then(function(a){v.PDFJS.disableWebGL=!a}),a.get("sidebarViewOnLoad").then(function(a){b.sidebarViewOnLoad=a}),a.get("pdfBugEnabled").then(function(a){b.pdfBugEnabled=a}),a.get("showPreviousViewOnLoad").then(function(a){b.showPreviousViewOnLoad=a}),a.get("defaultZoomValue").then(function(a){b.defaultZoomValue=a}),a.get("enhanceTextSelection").then(function(a){b.enhanceTextSelection=a}),a.get("disableTextLayer").then(function(a){!0!==v.PDFJS.disableTextLayer&&(v.PDFJS.disableTextLayer=a)}),a.get("disableRange").then(function(a){!0!==v.PDFJS.disableRange&&(v.PDFJS.disableRange=a)}),a.get("disableStream").then(function(a){!0!==v.PDFJS.disableStream&&(v.PDFJS.disableStream=a)}),a.get("disableAutoFetch").then(function(a){v.PDFJS.disableAutoFetch=a}),a.get("disableFontFace").then(function(a){!0!==v.PDFJS.disableFontFace&&(v.PDFJS.disableFontFace=a)}),a.get("useOnlyCssZoom").then(function(a){v.PDFJS.useOnlyCssZoom=a}),a.get("externalLinkTarget").then(function(a){v.PDFJS.isExternalLinkTargetSet()||(v.PDFJS.externalLinkTarget=a)}),a.get("renderer").then(function(a){b.renderer=a}),a.get("renderInteractiveForms").then(function(a){b.renderInteractiveForms=a}),a.get("disablePageMode").then(function(a){b.disablePageMode=a}),a.get("disablePageLabels").then(function(a){b.disablePageLabels=a}),a.get("enablePrintAutoRotate").then(function(a){b.enablePrintAutoRotate=a})])["catch"](function(a){})},_initializeL10n:function(){if(this.viewerPrefs.pdfBugEnabled){var a=document.location.hash.substring(1),a=(0,y.parseQueryString)(a);"locale"in a&&(v.PDFJS.locale=a.locale)}this.l10n=this.externalServices.createL10n();return this.l10n.getDirection().then(function(a){document.getElementsByTagName("html")[0].dir=a})},_initializeViewerComponents:function(){var a=this,b=this.appConfig;return new Promise(function(e,c){a.overlayManager=new ia.OverlayManager;var g=b.eventBus||(0,ha.getGlobalEventBus)();a.eventBus=g;var d=new W.PDFRenderingQueue;d.onIdle=a.cleanup.bind(a);a.pdfRenderingQueue=d;var p=new pa.PDFLinkService({eventBus:g});a.pdfLinkService=p;var r=a.externalServices.createDownloadManager();a.downloadManager=r;var t=b.mainContainer,f=b.viewerContainer;a.pdfViewer=new ta.PDFViewer({container:t,viewer:f,eventBus:g,renderingQueue:d,linkService:p,downloadManager:r,renderer:a.viewerPrefs.renderer,l10n:a.l10n,enhanceTextSelection:a.viewerPrefs.enhanceTextSelection,renderInteractiveForms:a.viewerPrefs.renderInteractiveForms,enablePrintAutoRotate:a.viewerPrefs.enablePrintAutoRotate});d.setViewer(a.pdfViewer);p.setViewer(a.pdfViewer);a.pdfThumbnailViewer=new sa.PDFThumbnailViewer({container:b.sidebar.thumbnailView,renderingQueue:d,linkService:p,l10n:a.l10n});d.setThumbnailViewer(a.pdfThumbnailViewer);a.pdfHistory=new oa.PDFHistory({linkService:p,eventBus:g});p.setHistory(a.pdfHistory);a.findController=new na.PDFFindController({pdfViewer:a.pdfViewer});a.findController.onUpdateResultsCount=function(b){a.supportsIntegratedFind||a.findBar.updateResultsCount(b)};a.findController.onUpdateState=function(b,e,c){a.supportsIntegratedFind?a.externalServices.updateFindControlState({result:b,findPrevious:e}):a.findBar.updateUIState(b,e,c)};a.pdfViewer.setFindController(a.findController);d=Object.create(b.findBar);d.findController=a.findController;d.eventBus=g;a.findBar=new ma.PDFFindBar(d,a.l10n);a.pdfDocumentProperties=new la.PDFDocumentProperties(b.documentProperties,a.overlayManager,a.l10n);a.pdfCursorTools=new L.PDFCursorTools({container:t,eventBus:g,preferences:a.preferences});a.toolbar=new va.Toolbar(b.toolbar,t,g,a.l10n);a.secondaryToolbar=new ua.SecondaryToolbar(b.secondaryToolbar,t,g);a.supportsFullscreen&&(a.pdfPresentationMode=new ra.PDFPresentationMode({container:t,viewer:f,pdfViewer:a.pdfViewer,eventBus:g,contextMenuItems:b.fullscreen}));a.passwordPrompt=new ja.PasswordPrompt(b.passwordOverlay,a.overlayManager,a.l10n);a.pdfOutlineViewer=new qa.PDFOutlineViewer({container:b.sidebar.outlineView,eventBus:g,linkService:p});a.pdfAttachmentViewer=new ka.PDFAttachmentViewer({container:b.sidebar.attachmentsView,eventBus:g,downloadManager:r});p=Object.create(b.sidebar);p.pdfViewer=a.pdfViewer;p.pdfThumbnailViewer=a.pdfThumbnailViewer;p.pdfOutlineViewer=a.pdfOutlineViewer;p.eventBus=g;a.pdfSidebar=new F.PDFSidebar(p,a.l10n);a.pdfSidebar.onToggled=a.forceRendering.bind(a);e(void 0)})},run:function(a){this.initialize(a).then(q)},zoomIn:function(a){var b=this.pdfViewer.currentScale;do b=(1.1*b).toFixed(2),b=Math.ceil(10*b)/10,b=Math.min(y.MAX_SCALE,b);while(0<--a&&b<y.MAX_SCALE);this.pdfViewer.currentScaleValue=b},zoomOut:function(a){var b=this.pdfViewer.currentScale;do b=(b/1.1).toFixed(2),b=Math.floor(10*b)/10,b=Math.max(y.MIN_SCALE,b);while(0<--a&&b>y.MIN_SCALE);this.pdfViewer.currentScaleValue=b},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get pageRotation(){return this.pdfViewer.pagesRotation},set page(a){this.pdfViewer.currentPageNumber=a},get page(){return this.pdfViewer.currentPageNumber},get printing(){return!!this.printService},get supportsPrinting(){return M.instance.supportsPrinting},get supportsFullscreen(){var a;a=document.documentElement;a=!!(a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullScreen||a.msRequestFullscreen);if(!1===document.fullscreenEnabled||!1===document.mozFullScreenEnabled||!1===document.webkitFullscreenEnabled||!1===document.msFullscreenEnabled)a=!1;a&&!0===v.PDFJS.disableFullscreen&&(a=!1);return(0,v.shadow)(this,"supportsFullscreen",a)},get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind},get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts},get supportsDocumentColors(){return this.externalServices.supportsDocumentColors},get loadingBar(){var a=new y.ProgressBar("#loadingBar");return(0,v.shadow)(this,"loadingBar",a)},get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys},initPassiveLoading:function(){throw Error("Not implemented: initPassiveLoading");},setTitleUsingUrl:function(a){this.url=a;this.baseUrl=a.split("#")[0];var b=(0,y.getPDFFileNameFromURL)(a,"");if(!b)try{b=decodeURIComponent((0,v.getFilenameFromUrl)(a))||a}catch(T){b=a}this.setTitle(b)},setTitle:function(a){this.isViewerEmbedded||(document.title=a)},close:function(){this.appConfig.errorWrapper.container.setAttribute("hidden","true");if(!this.pdfLoadingTask)return Promise.resolve();var a=this.pdfLoadingTask.destroy();this.pdfLoadingTask=null;this.pdfDocument&&(this.pdfDocument=null,this.pdfThumbnailViewer.setDocument(null),this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfDocumentProperties.setDocument(null,null));this.store=null;this.downloadComplete=this.isInitialViewSet=!1;this.pdfSidebar.reset();this.pdfOutlineViewer.reset();this.pdfAttachmentViewer.reset();this.findController.reset();this.findBar.reset();this.toolbar.reset();this.secondaryToolbar.reset();"undefined"!==typeof PDFBug&&PDFBug.cleanup();return a},open:function(a,b){var e=this;if(2<arguments.length||"number"===typeof b)return Promise.reject(Error("Call of open() with obsolete signature."));if(this.pdfLoadingTask)return this.close().then(function(){e.preferences.reload();return e.open(a,b)});var c=Object.create(null);"string"===typeof a?(this.setTitleUsingUrl(a),c.url=a):a&&"byteLength"in a?c.data=a:a.url&&a.originalUrl&&(this.setTitleUsingUrl(a.originalUrl),c.url=a.url);if(b)for(var g in b)v.PDFJS.pdfjsNext||"scale"!==g?("length"===g&&this.pdfDocumentProperties.setFileSize(b[g]),c[g]=b[g]):console.error('Call of open() with obsolete "scale" argument, please use the "defaultZoomValue" preference instead.');this.pdfLoadingTask=c=(0,v.getDocument)(c);c.onPassword=function(a,b){e.passwordPrompt.setUpdateCallback(a,b);e.passwordPrompt.open()};c.onProgress=function(a){e.progress(a.loaded/a.total)};c.onUnsupportedFeature=this.fallback.bind(this);return c.promise.then(function(a){e.load(a)},function(a){var b=a&&a.message,c=void 0,c=a instanceof v.InvalidPDFException?e.l10n.get("invalid_file_error",null,"Invalid or corrupted PDF file."):a instanceof v.MissingPDFException?e.l10n.get("missing_file_error",null,"Missing PDF file."):a instanceof v.UnexpectedResponseException?e.l10n.get("unexpected_response_error",null,"Unexpected server response."):e.l10n.get("loading_error",null,"An error occurred while loading the PDF.");return c.then(function(a){e.error(a,{message:b});throw Error(a);})})},download:function(){function a(){g.downloadUrl(e,c)}var b=this,e=this.baseUrl,c=(0,y.getPDFFileNameFromURL)(this.url),g=this.downloadManager;g.onerror=function(a){b.error("PDF failed to download: "+a)};this.pdfDocument&&this.downloadComplete?this.pdfDocument.getData().then(function(a){a=(0,v.createBlob)(a,"application/pdf");g.download(a,e,c)})["catch"](a):a()},fallback:function(a){},error:function(a,b){var e=[this.l10n.get("error_version_info",{version:v.version||"?",build:v.build||"?"},"PDF.js v{{version}} (build: {{build}})")];b&&(e.push(this.l10n.get("error_message",{message:b.message},"Message: {{message}}")),b.stack?e.push(this.l10n.get("error_stack",{stack:b.stack},"Stack: {{stack}}")):(b.filename&&e.push(this.l10n.get("error_file",{file:b.filename},"File: {{file}}")),b.lineNumber&&e.push(this.l10n.get("error_line",{line:b.lineNumber},"Line: {{line}}"))));var c=this.appConfig.errorWrapper,g=c.container;g.removeAttribute("hidden");c.errorMessage.textContent=a;var d=c.closeButton;d.onclick=function(){g.setAttribute("hidden","true")};var p=c.errorMoreInfo,r=c.moreInfoButton,t=c.lessInfoButton;r.onclick=function(){p.removeAttribute("hidden");r.setAttribute("hidden","true");t.removeAttribute("hidden");p.style.height=p.scrollHeight+"px"};t.onclick=function(){p.setAttribute("hidden","true");r.removeAttribute("hidden");t.setAttribute("hidden","true")};r.oncontextmenu=y.noContextMenuHandler;t.oncontextmenu=y.noContextMenuHandler;d.oncontextmenu=y.noContextMenuHandler;r.removeAttribute("hidden");t.setAttribute("hidden","true");Promise.all(e).then(function(a){p.value=a.join("\n")})},progress:function(a){var b=this;!this.downloadComplete&&(a=Math.round(100*a),a>this.loadingBar.percent||isNaN(a))&&(this.loadingBar.percent=a,v.PDFJS.disableAutoFetch&&a&&(this.disableAutoFetchLoadingBarTimeout&&(clearTimeout(this.disableAutoFetchLoadingBarTimeout),this.disableAutoFetchLoadingBarTimeout=null),this.loadingBar.show(),this.disableAutoFetchLoadingBarTimeout=setTimeout(function(){b.loadingBar.hide();b.disableAutoFetchLoadingBarTimeout=null},5E3)))},load:function(a){var b=this;this.pdfDocument=a;a.getDownloadInfo().then(function(){b.downloadComplete=!0;b.loadingBar.hide();p.then(function(){b.eventBus.dispatch("documentload",{source:b})})});var e=a.getPageMode()["catch"](function(){});this.toolbar.setPagesCount(a.numPages,!1);this.secondaryToolbar.setPagesCount(a.numPages);var c=this.documentFingerprint=a.fingerprint,g=this.store=new wa.ViewHistory(c);this.pdfLinkService.setDocument(a,null);this.pdfDocumentProperties.setDocument(a,this.url);var d=this.pdfViewer;d.setDocument(a);var p=d.firstPagePromise,r=d.pagesPromise,t=d.onePageRendered,f=this.pdfThumbnailViewer;f.setDocument(a);p.then(function(a){b.loadingBar.setWidth(b.appConfig.viewerContainer);v.PDFJS.disableHistory||b.isViewerEmbedded||(b.pdfHistory.initialize(c,!b.viewerPrefs.showPreviousViewOnLoad),b.pdfHistory.initialBookmark&&(b.initialBookmark=b.pdfHistory.initialBookmark,b.initialRotation=b.pdfHistory.initialRotation));var p=null,t=null;a=g.getMultiple({exists:!1,page:"1",zoom:y.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:F.SidebarView.NONE})["catch"](function(){});Promise.all([a,e]).then(function(a){var e=ga(a,2);a=e[0];a=void 0===a?{}:a;var e=e[1],c=b.viewerPrefs.defaultZoomValue?"zoom\x3d"+b.viewerPrefs.defaultZoomValue:null,g=null,d=b.viewerPrefs.sidebarViewOnLoad;a.exists&&b.viewerPrefs.showPreviousViewOnLoad&&(c="page\x3d"+a.page+"\x26zoom\x3d"+(b.viewerPrefs.defaultZoomValue||a.zoom)+","+a.scrollLeft+","+a.scrollTop,g=parseInt(a.rotation,10),d=d||a.sidebarView|0);e&&!b.viewerPrefs.disablePageMode&&(d=d||ea(e));return{hash:c,rotation:g,sidebarView:d}}).then(function(a){var e=a.hash,c=a.rotation;a=a.sidebarView;p=b.initialBookmark;t=e;b.setInitialView(e,{rotation:c,sidebarView:a});b.isViewerEmbedded||d.focus();return r}).then(function(){!p&&!t||d.hasEqualPageSizes||(b.initialBookmark=p,d.currentScaleValue=d.currentScaleValue,b.setInitialView(t))}).then(function(){d.update()})});a.getPageLabels().then(function(e){if(e&&!b.viewerPrefs.disablePageLabels){var c=0,g=e.length;if(g!==b.pagesCount)console.error("The number of Page Labels does not match the number of pages in the document.");else{for(;c<g&&e[c]===(c+1).toString();)c++;c!==g&&(d.setPageLabels(e),f.setPageLabels(e),b.toolbar.setPagesCount(a.numPages,!0),b.toolbar.setPageNumber(d.currentPageNumber,d.currentPageLabel))}}});r.then(function(){b.supportsPrinting&&a.getJavaScript().then(function(a){if(0!==a.length){a.some(function(a){if(!a)return!1;console.warn("Warning: JavaScript is not supported");b.fallback(v.UNSUPPORTED_FEATURES.javaScript);return!0});for(var e=/\bprint\s*\(/,c=0,g=a.length;c<g;c++){var d=a[c];if(d&&e.test(d)){setTimeout(function(){window.print()});break}}}})});Promise.all([t,y.animationStarted]).then(function(){a.getOutline().then(function(a){b.pdfOutlineViewer.render({outline:a})});a.getAttachments().then(function(a){b.pdfAttachmentViewer.render({attachments:a})})});a.getMetadata().then(function(e){var c=e.info,g=e.metadata;b.documentInfo=c;b.metadata=g;console.log("PDF "+a.fingerprint+" ["+c.PDFFormatVersion+" "+(c.Producer||"-").trim()+" / "+(c.Creator||"-").trim()+"] (PDF.js: "+(v.version||"-")+(v.PDFJS.disableWebGL?"":" [WebGL]")+")");e=void 0;g&&g.has("dc:title")&&(g=g.get("dc:title"),"Untitled"!==g&&(e=g));!e&&c&&c.Title&&(e=c.Title);e&&b.setTitle(e+" - "+document.title);c.IsAcroFormPresent&&(console.warn("Warning: AcroForm/XFA is not supported"),b.fallback(v.UNSUPPORTED_FEATURES.forms))})},setInitialView:function(a){var b=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=e.rotation,e=e.sidebarView,g=function(a){(0,y.isValidRotation)(a)&&(b.pdfViewer.pagesRotation=a)};this.isInitialViewSet=!0;this.pdfSidebar.setInitialView(e);this.initialBookmark?(g(this.initialRotation),delete this.initialRotation,this.pdfLinkService.setHash(this.initialBookmark),this.initialBookmark=null):a&&(g(c),this.pdfLinkService.setHash(a));this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel);this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber);this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=y.DEFAULT_SCALE_VALUE)},cleanup:function(){this.pdfDocument&&(this.pdfViewer.cleanup(),this.pdfThumbnailViewer.cleanup(),this.pdfViewer.renderer!==y.RendererType.SVG&&this.pdfDocument.cleanup())},forceRendering:function(){this.pdfRenderingQueue.printing=this.printing;this.pdfRenderingQueue.isThumbnailViewEnabled=this.pdfSidebar.isThumbnailViewVisible;this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function(){var a=this;if(!this.printService)if(this.supportsPrinting)if(this.pdfViewer.pageViewsReady){var b=this.pdfViewer.getPagesOverview();this.printService=b=M.instance.createPrintService(this.pdfDocument,b,this.appConfig.printContainer,this.l10n);this.forceRendering();b.layout()}else this.l10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.").then(function(a){window.alert(a)});else this.l10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.").then(function(b){a.error(b)})},afterPrint:function(){this.printService&&(this.printService.destroy(),this.printService=null);this.forceRendering()},rotatePages:function(a){this.pdfDocument&&(this.pdfViewer.pagesRotation=(this.pdfViewer.pagesRotation+360+a)%360)},requestPresentationMode:function(){this.pdfPresentationMode&&this.pdfPresentationMode.request()},bindEvents:function(){var f=this.eventBus,h=this._boundEvents;h.beforePrint=this.beforePrint.bind(this);h.afterPrint=this.afterPrint.bind(this);f.on("resize",t);f.on("hashchange",u);f.on("beforeprint",h.beforePrint);f.on("afterprint",h.afterPrint);f.on("pagerendered",d);f.on("textlayerrendered",c);f.on("updateviewarea",p);f.on("pagechanging",Z);f.on("scalechanging",X);f.on("rotationchanging",Y);f.on("sidebarviewchanged",g);f.on("pagemode",b);f.on("namedaction",a);f.on("presentationmodechanged",e);f.on("presentationmode",r);f.on("openfile",z);f.on("print",w);f.on("download",E);f.on("firstpage",B);f.on("lastpage",A);f.on("nextpage",C);f.on("previouspage",D);f.on("zoomin",P);f.on("zoomout",H);f.on("pagenumberchanged",x);f.on("scalechanged",Q);f.on("rotatecw",I);f.on("rotateccw",G);f.on("documentproperties",O);f.on("find",R);f.on("findfromurlhash",S);f.on("fileinputchange",N)},bindWindowEvents:function(){var a=this.eventBus,b=this._boundEvents;b.windowResize=function(){a.dispatch("resize")};b.windowHashChange=function(){a.dispatch("hashchange",{hash:document.location.hash.substring(1)})};b.windowBeforePrint=function(){a.dispatch("beforeprint")};b.windowAfterPrint=function(){a.dispatch("afterprint")};window.addEventListener("wheel",aa);window.addEventListener("click",ca);window.addEventListener("keydown",da);window.addEventListener("resize",b.windowResize);window.addEventListener("hashchange",b.windowHashChange);window.addEventListener("beforeprint",b.windowBeforePrint);window.addEventListener("afterprint",b.windowAfterPrint)},unbindEvents:function(){var f=this.eventBus,h=this._boundEvents;f.off("resize",t);f.off("hashchange",u);f.off("beforeprint",h.beforePrint);f.off("afterprint",h.afterPrint);f.off("pagerendered",d);f.off("textlayerrendered",c);f.off("updateviewarea",p);f.off("pagechanging",Z);f.off("scalechanging",X);f.off("rotationchanging",Y);f.off("sidebarviewchanged",g);f.off("pagemode",b);f.off("namedaction",a);f.off("presentationmodechanged",e);f.off("presentationmode",r);f.off("openfile",z);f.off("print",w);f.off("download",E);f.off("firstpage",B);f.off("lastpage",A);f.off("nextpage",C);f.off("previouspage",D);f.off("zoomin",P);f.off("zoomout",H);f.off("pagenumberchanged",x);f.off("scalechanged",Q);f.off("rotatecw",I);f.off("rotateccw",G);f.off("documentproperties",O);f.off("find",R);f.off("findfromurlhash",S);f.off("fileinputchange",N);h.beforePrint=null;h.afterPrint=null},unbindWindowEvents:function(){var a=this._boundEvents;window.removeEventListener("wheel",aa);window.removeEventListener("click",ca);window.removeEventListener("keydown",da);window.removeEventListener("resize",a.windowResize);window.removeEventListener("hashchange",a.windowHashChange);window.removeEventListener("beforeprint",a.windowBeforePrint);window.removeEventListener("afterprint",a.windowAfterPrint);a.windowResize=null;a.windowHashChange=null;a.windowBeforePrint=null;a.windowAfterPrint=null}},U=void 0,xa=["null","http://mozilla.github.io","https://mozilla.github.io"],U=function(a){if(void 0!==a)try{var b=(new URL(window.location.href)).origin||"null";if(!(0<=xa.indexOf(b))&&(new URL(a,window.location.href)).origin!==b)throw Error("file origin does not match viewer's");}catch(J){var e=J&&J.message;m.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then(function(a){m.error(a,{message:e})});throw J;}},V=void 0,V=function(a){if(a&&0===a.lastIndexOf("file:",0)){m.setTitleUsingUrl(a);var b=new XMLHttpRequest;b.onload=function(){m.open(new Uint8Array(b.response))};try{b.open("GET",a),b.responseType="arraybuffer",b.send()}catch(T){m.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then(function(a){m.error(a,T)})}}else a&&m.open(a)},N=void 0,N=function(a){a=a.fileInput.files[0];if(!v.PDFJS.disableCreateObjectURL&&URL.createObjectURL)m.open(URL.createObjectURL(a));else{var b=new FileReader;b.onload=function(a){m.open(new Uint8Array(a.target.result))};b.readAsArrayBuffer(a)}m.setTitleUsingUrl(a.name);a=m.appConfig;a.toolbar.viewBookmark.setAttribute("hidden","true");a.secondaryToolbar.viewBookmarkButton.setAttribute("hidden","true");a.toolbar.download.setAttribute("hidden","true");a.secondaryToolbar.downloadButton.setAttribute("hidden","true")},K=!1,ba=void 0,M={instance:{supportsPrinting:!1,createPrintService:function(){throw Error("Not implemented: createPrintService");}}};f.PDFViewerApplication=m;f.DefaultExternalServices=l;f.PDFPrintServiceFactory=M},function(l,f,k){function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function h(a){if(!(a instanceof Array))return!1;var b=a.length,c=!0;if(2>b)return!1;var d=a[0];if(!("object"===("undefined"===typeof d?"undefined":q(d))&&Number.isInteger(d.num)&&Number.isInteger(d.gen)||Number.isInteger(d)&&0<=d))return!1;d=a[1];if("object"!==("undefined"===typeof d?"undefined":q(d))||"string"!==typeof d.name)return!1;switch(d.name){case "XYZ":if(5!==b)return!1;break;case "Fit":case "FitB":return 2===b;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==b)return!1;break;case "FitR":if(6!==b)return!1;c=!1;break;default:return!1}for(d=2;d<b;d++){var f=a[d];if(!("number"===typeof f||c&&null===f))return!1}return!0}Object.defineProperty(f,"__esModule",{value:!0});f.SimpleLinkService=f.PDFLinkService=void 0;var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=function(){function a(a,b){for(var e=0;e<b.length;e++){var c=b[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),c=k(2),b=k(0);l=function(){function a(){var b=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).eventBus;n(this,a);this.eventBus=b||(0,c.getGlobalEventBus)();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}d(a,[{key:"setDocument",value:function(a,b){this.baseUrl=b;this.pdfDocument=a;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(a){this.pdfViewer=a}},{key:"setHistory",value:function(a){this.pdfHistory=a}},{key:"navigateTo",value:function(a){var b=this,c=function u(c){var e=c.namedDest,g=c.explicitDest,d=g[0];c=void 0;if(d instanceof Object){if(c=b._cachedPageNumber(d),null===c){b.pdfDocument.getPageIndex(d).then(function(a){b.cachePageRef(a+1,d);u({namedDest:e,explicitDest:g})})["catch"](function(){console.error('PDFLinkService.navigateTo: "'+d+'" is not '+('a valid page reference, for dest\x3d"'+a+'".'))});return}}else if(Number.isInteger(d))c=d+1;else{console.error('PDFLinkService.navigateTo: "'+d+'" is not '+('a valid destination reference, for dest\x3d"'+a+'".'));return}!c||1>c||c>b.pagesCount?console.error('PDFLinkService.navigateTo: "'+c+'" is not '+('a valid page number, for dest\x3d"'+a+'".')):(b.pdfHistory&&(b.pdfHistory.pushCurrentPosition(),b.pdfHistory.push({namedDest:e,explicitDest:g,pageNumber:c})),b.pdfViewer.scrollPageIntoView({pageNumber:c,destArray:g}))};(new Promise(function(c,e){"string"===typeof a?b.pdfDocument.getDestination(a).then(function(b){c({namedDest:a,explicitDest:b})}):c({namedDest:"",explicitDest:a})})).then(function(b){b.explicitDest instanceof Array?c(b):console.error('PDFLinkService.navigateTo: "'+b.explicitDest+'" is'+(' not a valid destination array, for dest\x3d"'+a+'".'))})}},{key:"getDestinationHash",value:function(a){return"string"===typeof a?this.getAnchorUrl("#"+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(a){return(this.baseUrl||"")+a}},{key:"setHash",value:function(a){var c=void 0,e=void 0;if(0<=a.indexOf("\x3d"))if(a=(0,b.parseQueryString)(a),"search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)this.navigateTo(a.nameddest);else{"page"in a&&(c=a.page|0||1);if("zoom"in a){var d=a.zoom.split(","),f=d[0],r=parseFloat(f);-1===f.indexOf("Fit")?e=[null,{name:"XYZ"},1<d.length?d[1]|0:null,2<d.length?d[2]|0:null,r?r/100:f]:"Fit"===f||"FitB"===f?e=[null,{name:f}]:"FitH"===f||"FitBH"===f||"FitV"===f||"FitBV"===f?e=[null,{name:f},1<d.length?d[1]|0:null]:"FitR"===f?5!==d.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):e=[null,{name:f},d[1]|0,d[2]|0,d[3]|0,d[4]|0]:console.error('PDFLinkService.setHash: "'+f+'" is not a valid zoom value.')}e?this.pdfViewer.scrollPageIntoView({pageNumber:c||this.page,destArray:e,allowNegativeOffset:!0}):c&&(this.page=c);"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{/^\d+$/.test(a)&&a<=this.pagesCount&&(console.warn("PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, "+('please use the "#page\x3d'+a+'" form instead.')),this.page=a|0);e=unescape(a);try{e=JSON.parse(e),e instanceof Array||(e=e.toString())}catch(z){}"string"===typeof e||h(e)?this.navigateTo(e):console.error('PDFLinkService.setHash: "'+unescape(a)+'" is not a valid destination.')}}},{key:"executeNamedAction",value:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})}},{key:"onFileAttachmentAnnotation",value:function(a){this.eventBus.dispatch("fileattachmentannotation",{source:this,id:a.id,filename:a.filename,content:a.content})}},{key:"cachePageRef",value:function(a,b){this._pagesRefCache[b.num+" "+b.gen+" R"]=a}},{key:"_cachedPageNumber",value:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(a){this.pdfViewer.currentPageNumber=a}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(a){this.pdfViewer.pagesRotation=a}}]);return a}();k=function(){function a(){n(this,a)}d(a,[{key:"navigateTo",value:function(a){}},{key:"getDestinationHash",value:function(a){return"#"}},{key:"getAnchorUrl",value:function(a){return"#"}},{key:"setHash",value:function(a){}},{key:"executeNamedAction",value:function(a){}},{key:"onFileAttachmentAnnotation",value:function(a){}},{key:"cachePageRef",value:function(a,b){}},{key:"page",get:function(){return 0},set:function(a){}},{key:"rotation",get:function(){return 0},set:function(a){}}]);return a}();f.PDFLinkService=l;f.SimpleLinkService=k},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFCursorTools=f.CursorTool=void 0;var n=function(){return function(c,b){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c)){var a=[],e=!0,g=!1,d=void 0;try{for(var f=c[Symbol.iterator](),u;!(e=(u=f.next()).done)&&(a.push(u.value),!b||a.length!==b);e=!0);}catch(r){g=!0,d=r}finally{try{if(!e&&f["return"])f["return"]()}finally{if(g)throw d;}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),h=function(){function c(b,a){for(var c=0;c<a.length;c++){var g=a[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),q=k(9),d={SELECT:0,HAND:1,ZOOM:2};l=function(){function c(b){var a=this,e=b.container,g=b.eventBus,p=b.preferences;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.container=e;this.eventBus=g;this.active=d.SELECT;this.activeBeforePresentationMode=null;this.handTool=new q.GrabToPan({element:this.container});this._addEventListeners();Promise.all([p.get("cursorToolOnLoad"),p.get("enableHandToolOnLoad")]).then(function(b){b=n(b,2);var c=b[0];!0===b[1]&&(p.set("enableHandToolOnLoad",!1),c===d.SELECT&&(c=d.HAND,p.set("cursorToolOnLoad",c)["catch"](function(){})));a.switchTool(c)})["catch"](function(){})}h(c,[{key:"switchTool",value:function(b){var a=this;if(null===this.activeBeforePresentationMode&&b!==this.active){var c=function(){switch(a.active){case d.HAND:a.handTool.deactivate()}};switch(b){case d.SELECT:c();break;case d.HAND:c();this.handTool.activate();break;default:console.error('switchTool: "'+b+'" is an unsupported value.');return}this.active=b;this._dispatchEvent()}}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}},{key:"_addEventListeners",value:function(){var b=this;this.eventBus.on("switchcursortool",function(a){b.switchTool(a.tool)});this.eventBus.on("presentationmodechanged",function(a){a.switchInProgress||(a.active?(a=b.active,b.switchTool(d.SELECT),b.activeBeforePresentationMode=a):(a=b.activeBeforePresentationMode,b.activeBeforePresentationMode=null,b.switchTool(a)))})}},{key:"activeTool",get:function(){return this.active}}]);return c}();f.CursorTool=d;f.PDFCursorTools=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFFindController=f.FindState=void 0;var n=function(){function b(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,g){c&&b(a.prototype,c);g&&b(a,g);return a}}(),h=k(1),q=k(0),d={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},c={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"};l=function(){function b(a){a=a.pdfViewer;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.pdfViewer=a;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();a=Object.keys(c).join("");this.normalizationRegex=new RegExp("["+a+"]","g")}n(b,[{key:"reset",value:function(){var a=this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(b){a.resolveFirstPage=b})}},{key:"normalize",value:function(a){return a.replace(this.normalizationRegex,function(a){return c[a]})}},{key:"_prepareMatches",value:function(a,b,c){function e(a,b){var c=a[b],e=a[b+1];if(b<a.length-1&&c.match===e.match)return c.skipped=!0;for(e=b-1;0<=e;e--){var g=a[e];if(!g.skipped){if(g.match+g.matchLength<c.match)break;if(g.match+g.matchLength>=c.match+c.matchLength)return c.skipped=!0}}return!1}a.sort(function(a,b){return a.match===b.match?a.matchLength-b.matchLength:a.match-b.match});for(var g=0,d=a.length;g<d;g++)e(a,g)||(b.push(a[g].match),c.push(a[g].matchLength))}},{key:"calcFindPhraseMatch",value:function(a,b,c){for(var e=[],g=a.length,d=-g;;){d=c.indexOf(a,d+g);if(-1===d)break;e.push(d)}this.pageMatches[b]=e}},{key:"calcFindWordMatch",value:function(a,b,c){var e=[];a=a.match(/\S+/g);for(var g=0,d=a.length;g<d;g++)for(var f=a[g],h=f.length,w=-h;;){w=c.indexOf(f,w+h);if(-1===w)break;e.push({match:w,matchLength:h,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[b]=[];this.pageMatches[b]=[];this._prepareMatches(e,this.pageMatches[b],this.pageMatchesLength[b])}},{key:"calcFindMatch",value:function(a){var b=this.normalize(this.pageContents[a]),c=this.normalize(this.state.query),d=this.state.phraseSearch;0!==c.length&&(this.state.caseSensitive||(b=b.toLowerCase(),c=c.toLowerCase()),d?this.calcFindPhraseMatch(c,a,b):this.calcFindWordMatch(c,a,b),this.updatePage(a),this.resumePageIdx===a&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[a].length&&(this.matchCount+=this.pageMatches[a].length,this.updateUIResultsCount()))}},{key:"extractText",value:function(){var a=this;if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents.length=0;for(var b=Promise.resolve(),c=function(c,e){var g=(0,h.createPromiseCapability)();a.extractTextPromises[c]=g.promise;b=b.then(function(){return a.pdfViewer.getPageTextContent(c).then(function(b){b=b.items;for(var e=[],d=0,p=b.length;d<p;d++)e.push(b[d].str);a.pageContents[c]=e.join("");g.resolve(c)},function(b){console.error("Unable to get page "+(c+1)+" text content",b);a.pageContents[c]="";g.resolve(c)})})},d=0,f=this.pdfViewer.pagesCount;d<f;d++)c(d,f)}}},{key:"executeCommand",value:function(a,b){var c=this;if(null===this.state||"findagain"!==a)this.dirtyMatch=!0;this.state=b;this.updateUIState(d.PENDING);this._firstPagePromise.then(function(){c.extractText();clearTimeout(c.findTimeout);"find"===a?c.findTimeout=setTimeout(c.nextMatch.bind(c),250):c.nextMatch()})}},{key:"updatePage",value:function(a){this.selected.pageIdx===a&&(this.pdfViewer.currentPageNumber=a+1);a=this.pdfViewer.getPageView(a);a.textLayer&&a.textLayer.updateMatches()}},{key:"nextMatch",value:function(){var a=this,b=this.state.findPrevious,c=this.pdfViewer.currentPageNumber-1,p=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch)for(this.dirtyMatch=!1,this.selected.pageIdx=this.selected.matchIdx=-1,this.offset.pageIdx=c,this.offset.matchIdx=null,this.hadMatch=!1,this.resumePageIdx=null,this.pageMatches=[],this.matchCount=0,this.pageMatchesLength=null,c=0;c<p;c++)this.updatePage(c),c in this.pendingFindMatches||(this.pendingFindMatches[c]=!0,this.extractTextPromises[c].then(function(b){delete a.pendingFindMatches[b];a.calcFindMatch(b)}));if(""===this.state.query)this.updateUIState(d.FOUND);else if(!this.resumePageIdx){c=this.offset;this.pagesToSearch=p;if(null!==c.matchIdx){p=this.pageMatches[c.pageIdx].length;if(!b&&c.matchIdx+1<p||b&&0<c.matchIdx){this.hadMatch=!0;c.matchIdx=b?c.matchIdx-1:c.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(b)}this.nextPageMatch()}}},{key:"matchesReady",value:function(a){var b=this.offset;a=a.length;var c=this.state.findPrevious;if(a)return this.hadMatch=!0,b.matchIdx=c?a-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(c);return b.wrapped&&(b.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1}},{key:"updateMatchPosition",value:function(a,b,c,d){this.selected.matchIdx===b&&this.selected.pageIdx===a&&(0,q.scrollIntoView)(c[d],{top:-50,left:-400},!0)}},{key:"nextPageMatch",value:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");var a;do{var b=this.offset.pageIdx;a=this.pageMatches[b];if(!a){this.resumePageIdx=b;break}}while(!this.matchesReady(a))}},{key:"advanceOffsetPage",value:function(a){var b=this.offset,c=this.extractTextPromises.length;b.pageIdx=a?b.pageIdx-1:b.pageIdx+1;b.matchIdx=null;this.pagesToSearch--;if(b.pageIdx>=c||0>b.pageIdx)b.pageIdx=a?c-1:0,b.wrapped=!0}},{key:"updateMatch",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=d.NOT_FOUND,c=this.offset.wrapped;this.offset.wrapped=!1;a&&(a=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,b=c?d.WRAPPED:d.FOUND,-1!==a&&a!==this.selected.pageIdx&&this.updatePage(a));this.updateUIState(b,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)}},{key:"updateUIResultsCount",value:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)}},{key:"updateUIState",value:function(a,b){if(this.onUpdateState)this.onUpdateState(a,b,this.matchCount)}}]);return b}();f.FindState=d;f.PDFFindController=l},function(l,f,k){function n(){var d={appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),eventBus:null,toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelectContainer:document.getElementById("scaleSelectContainer"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),openFile:document.getElementById("openFile"),print:document.getElementById("print"),presentationModeButton:document.getElementById("presentationMode"),download:document.getElementById("download"),viewBookmark:document.getElementById("viewBookmark")},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"),toggleButton:document.getElementById("secondaryToolbarToggle"),toolbarButtonContainer:document.getElementById("secondaryToolbarButtonContainer"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFileButton:document.getElementById("secondaryOpenFile"),printButton:document.getElementById("secondaryPrint"),downloadButton:document.getElementById("secondaryDownload"),viewBookmarkButton:document.getElementById("secondaryViewBookmark"),firstPageButton:document.getElementById("firstPage"),lastPageButton:document.getElementById("lastPage"),pageRotateCwButton:document.getElementById("pageRotateCw"),pageRotateCcwButton:document.getElementById("pageRotateCcw"),cursorSelectToolButton:document.getElementById("cursorSelectTool"),cursorHandToolButton:document.getElementById("cursorHandTool"),documentPropertiesButton:document.getElementById("documentProperties")},fullscreen:{contextFirstPage:document.getElementById("contextFirstPage"),contextLastPage:document.getElementById("contextLastPage"),contextPageRotateCw:document.getElementById("contextPageRotateCw"),contextPageRotateCcw:document.getElementById("contextPageRotateCcw")},sidebar:{mainContainer:document.getElementById("mainContainer"),outerContainer:document.getElementById("outerContainer"),toggleButton:document.getElementById("sidebarToggle"),thumbnailButton:document.getElementById("viewThumbnail"),outlineButton:document.getElementById("viewOutline"),attachmentsButton:document.getElementById("viewAttachments"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView")},findBar:{bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),findMsg:document.getElementById("findMsg"),findResultsCount:document.getElementById("findResultsCount"),findStatusIcon:document.getElementById("findStatusIcon"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")},passwordOverlay:{overlayName:"passwordOverlay",container:document.getElementById("passwordOverlay"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},documentProperties:{overlayName:"documentPropertiesOverlay",container:document.getElementById("documentPropertiesOverlay"),closeButton:document.getElementById("documentPropertiesClose"),fields:{fileName:document.getElementById("fileNameField"),fileSize:document.getElementById("fileSizeField"),title:document.getElementById("titleField"),author:document.getElementById("authorField"),subject:document.getElementById("subjectField"),keywords:document.getElementById("keywordsField"),creationDate:document.getElementById("creationDateField"),modificationDate:document.getElementById("modificationDateField"),creator:document.getElementById("creatorField"),producer:document.getElementById("producerField"),version:document.getElementById("versionField"),pageCount:document.getElementById("pageCountField")}},errorWrapper:{container:document.getElementById("errorWrapper"),errorMessage:document.getElementById("errorMessage"),closeButton:document.getElementById("errorClose"),errorMoreInfo:document.getElementById("errorMoreInfo"),moreInfoButton:document.getElementById("errorShowMore"),lessInfoButton:document.getElementById("errorShowLess")},printContainer:document.getElementById("printContainer"),openFileInputName:"fileInput",debuggerScriptPath:"./debugger.js",defaultUrl:h};window.PDFViewerApplication=q.PDFViewerApplication;q.PDFViewerApplication.run(d)}var h=function(d){d=new RegExp("(?:^|\x26)"+d+"\x3d([^\x26]+)(?:\x26|$)","i");d=document.location.search.substr(1).match(d);return null!=d?decodeURI(d[1]):""}("file"),q=void 0,q=k(4);k(29);k(34);"interactive"===document.readyState||"complete"===document.readyState?n():document.addEventListener("DOMContentLoaded",n,!0)},function(l,f,k){function n(b){this.element=b.element;this.document=b.element.ownerDocument;"function"===typeof b.ignoreTarget&&(this.ignoreTarget=b.ignoreTarget);this.onActiveChanged=b.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._endPan=this._endPan.bind(this);(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}Object.defineProperty(f,"__esModule",{value:!0});n.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){if(!this.active&&(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!0)},deactivate:function(){if(this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!1)},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(b){return b[h]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(b){if(0===b.button&&!this.ignoreTarget(b.target)){if(b.originalTarget)try{b.originalTarget.tagName}catch(e){return}this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=b.clientX;this.clientYStart=b.clientY;this.document.addEventListener("mousemove",this._onmousemove,!0);this.document.addEventListener("mouseup",this._endPan,!0);this.element.addEventListener("scroll",this._endPan,!0);b.preventDefault();b.stopPropagation();var a=document.activeElement;a&&!a.contains(b.target)&&a.blur()}},_onmousemove:function(b){this.element.removeEventListener("scroll",this._endPan,!0);var a;a="buttons"in b&&q?!(b.buttons&1):d||c?0===b.which:void 0;a?this._endPan():(a=this.scrollTopStart-(b.clientY-this.clientYStart),b=this.scrollLeftStart-(b.clientX-this.clientXStart),this.element.scrollTo?this.element.scrollTo({top:a,left:b,behavior:"instant"}):(this.element.scrollTop=a,this.element.scrollLeft=b),this.overlay.parentNode||document.body.appendChild(this.overlay))},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onmousemove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);this.overlay.remove()}};var h;["webkitM","mozM","msM","oM","m"].some(function(b){b+="atches";b in document.documentElement&&(h=b);b+="Selector";b in document.documentElement&&(h=b);return h});var q=!document.documentMode||9<document.documentMode,d=(l=window.chrome)&&(l.webstore||l.app),c=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);f.GrabToPan=n},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFSidebar=f.SidebarView=void 0;var n=function(){function c(b,a){for(var c=0;c<a.length;c++){var g=a[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),h=k(0),q=k(3),d={NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3};l=function(){function c(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h.NullL10n;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.isOpen=!1;this.active=d.THUMBS;this.isInitialViewSet=!1;this.onToggled=null;this.pdfViewer=b.pdfViewer;this.pdfThumbnailViewer=b.pdfThumbnailViewer;this.pdfOutlineViewer=b.pdfOutlineViewer;this.mainContainer=b.mainContainer;this.outerContainer=b.outerContainer;this.eventBus=b.eventBus;this.toggleButton=b.toggleButton;this.thumbnailButton=b.thumbnailButton;this.outlineButton=b.outlineButton;this.attachmentsButton=b.attachmentsButton;this.thumbnailView=b.thumbnailView;this.outlineView=b.outlineView;this.attachmentsView=b.attachmentsView;this.disableNotification=b.disableNotification||!1;this.l10n=a;this._addEventListeners()}n(c,[{key:"reset",value:function(){this.isInitialViewSet=!1;this._hideUINotification(null);this.switchView(d.THUMBS);this.outlineButton.disabled=!1;this.attachmentsButton.disabled=!1}},{key:"setInitialView",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.NONE;if(!this.isInitialViewSet)if(this.isInitialViewSet=!0,this.isOpen&&b===d.NONE)this._dispatchEvent();else{var a=b===this.visibleView;this.switchView(b,!0);a&&this._dispatchEvent()}}},{key:"switchView",value:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(b===d.NONE)this.close();else{var c=b!==this.active,g=!1;switch(b){case d.THUMBS:this.thumbnailButton.classList.add("toggled");this.outlineButton.classList.remove("toggled");this.attachmentsButton.classList.remove("toggled");this.thumbnailView.classList.remove("hidden");this.outlineView.classList.add("hidden");this.attachmentsView.classList.add("hidden");this.isOpen&&c&&(this._updateThumbnailViewer(),g=!0);break;case d.OUTLINE:if(this.outlineButton.disabled)return;this.thumbnailButton.classList.remove("toggled");this.outlineButton.classList.add("toggled");this.attachmentsButton.classList.remove("toggled");this.thumbnailView.classList.add("hidden");this.outlineView.classList.remove("hidden");this.attachmentsView.classList.add("hidden");break;case d.ATTACHMENTS:if(this.attachmentsButton.disabled)return;this.thumbnailButton.classList.remove("toggled");this.outlineButton.classList.remove("toggled");this.attachmentsButton.classList.add("toggled");this.thumbnailView.classList.add("hidden");this.outlineView.classList.add("hidden");this.attachmentsView.classList.remove("hidden");break;default:console.error('PDFSidebar_switchView: "'+b+'" is an unsupported value.');return}this.active=b|0;a&&!this.isOpen?this.open():(g&&this._forceRendering(),c&&this._dispatchEvent(),this._hideUINotification(this.active))}}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this.toggleButton.classList.add("toggled"),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.add("sidebarOpen"),this.active===d.THUMBS&&this._updateThumbnailViewer(),this._forceRendering(),this._dispatchEvent(),this._hideUINotification(this.active))}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.toggleButton.classList.remove("toggled"),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.remove("sidebarOpen"),this._forceRendering(),this._dispatchEvent())}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}},{key:"_forceRendering",value:function(){if(this.onToggled)this.onToggled();else this.pdfViewer.forceRendering(),this.pdfThumbnailViewer.forceRendering()}},{key:"_updateThumbnailViewer",value:function(){for(var b=this.pdfViewer,a=this.pdfThumbnailViewer,c=b.pagesCount,g=0;g<c;g++){var d=b.getPageView(g);d&&d.renderingState===q.RenderingStates.FINISHED&&a.getThumbnail(g).setImage(d)}a.scrollThumbnailIntoView(b.currentPageNumber)}},{key:"_showUINotification",value:function(b){var a=this;if(!this.disableNotification){this.l10n.get("toggle_sidebar_notification.title",null,"Toggle Sidebar (document contains outline/attachments)").then(function(b){a.toggleButton.title=b});if(!this.isOpen)this.toggleButton.classList.add("pdfSidebarNotification");else if(b===this.active)return;switch(b){case d.OUTLINE:this.outlineButton.classList.add("pdfSidebarNotification");break;case d.ATTACHMENTS:this.attachmentsButton.classList.add("pdfSidebarNotification")}}}},{key:"_hideUINotification",value:function(b){var a=this;if(!this.disableNotification){var c=function(b){switch(b){case d.OUTLINE:a.outlineButton.classList.remove("pdfSidebarNotification");break;case d.ATTACHMENTS:a.attachmentsButton.classList.remove("pdfSidebarNotification")}};if(this.isOpen||null===b)if(this.toggleButton.classList.remove("pdfSidebarNotification"),null!==b)c(b);else{for(b in d)c(d[b]);this.l10n.get("toggle_sidebar.title",null,"Toggle Sidebar").then(function(b){a.toggleButton.title=b})}}}},{key:"_addEventListeners",value:function(){var b=this;this.mainContainer.addEventListener("transitionend",function(a){a.target===b.mainContainer&&b.outerContainer.classList.remove("sidebarMoving")});this.thumbnailButton.addEventListener("click",function(){b.switchView(d.THUMBS)});this.outlineButton.addEventListener("click",function(){b.switchView(d.OUTLINE)});this.outlineButton.addEventListener("dblclick",function(){b.pdfOutlineViewer.toggleOutlineTree()});this.attachmentsButton.addEventListener("click",function(){b.switchView(d.ATTACHMENTS)});this.eventBus.on("outlineloaded",function(a){a=a.outlineCount;b.outlineButton.disabled=!a;a?b._showUINotification(d.OUTLINE):b.active===d.OUTLINE&&b.switchView(d.THUMBS)});this.eventBus.on("attachmentsloaded",function(a){a.attachmentsCount?(b.attachmentsButton.disabled=!1,b._showUINotification(d.ATTACHMENTS)):Promise.resolve().then(function(){b.attachmentsView.hasChildNodes()||(b.attachmentsButton.disabled=!0,b.active===d.ATTACHMENTS&&b.switchView(d.THUMBS))})});this.eventBus.on("presentationmodechanged",function(a){a.active||a.switchInProgress||!b.isThumbnailViewVisible||b._updateThumbnailViewer()})}},{key:"visibleView",get:function(){return this.isOpen?this.active:d.NONE}},{key:"isThumbnailViewVisible",get:function(){return this.isOpen&&this.active===d.THUMBS}},{key:"isOutlineViewVisible",get:function(){return this.isOpen&&this.active===d.OUTLINE}},{key:"isAttachmentsViewVisible",get:function(){return this.isOpen&&this.active===d.ATTACHMENTS}}]);return c}();f.SidebarView=d;f.PDFSidebar=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});var n=function(){function f(f,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(f,b.key,b)}}return function(h,d,c){d&&f(h.prototype,d);c&&f(h,c);return h}}();l=function(){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._overlays={};this._active=null;this._keyDownBound=this._keyDown.bind(this)}n(f,[{key:"register",value:function(f,d){var c=this,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new Promise(function(e){var g=void 0;if(!f||!d||!(g=d.parentNode))throw Error("Not enough parameters.");if(c._overlays[f])throw Error("The overlay is already registered.");c._overlays[f]={element:d,container:g,callerCloseMethod:b,canForceClose:a};e()})}},{key:"unregister",value:function(f){var d=this;return new Promise(function(c){if(!d._overlays[f])throw Error("The overlay does not exist.");if(d._active===f)throw Error("The overlay cannot be removed while it is active.");delete d._overlays[f];c()})}},{key:"open",value:function(f){var d=this;return new Promise(function(c){if(!d._overlays[f])throw Error("The overlay does not exist.");if(d._active)if(d._overlays[f].canForceClose)d._closeThroughCaller();else{if(d._active===f)throw Error("The overlay is already active.");throw Error("Another overlay is currently active.");}d._active=f;d._overlays[d._active].element.classList.remove("hidden");d._overlays[d._active].container.classList.remove("hidden");window.addEventListener("keydown",d._keyDownBound);c()})}},{key:"close",value:function(f){var d=this;return new Promise(function(c){if(d._overlays[f]){if(!d._active)throw Error("The overlay is currently not active.");if(d._active!==f)throw Error("Another overlay is currently active.");}else throw Error("The overlay does not exist.");d._overlays[d._active].container.classList.add("hidden");d._overlays[d._active].element.classList.add("hidden");d._active=null;window.removeEventListener("keydown",d._keyDownBound);c()})}},{key:"_keyDown",value:function(f){this._active&&27===f.keyCode&&(this._closeThroughCaller(),f.preventDefault())}},{key:"_closeThroughCaller",value:function(){this._overlays[this._active].callerCloseMethod&&this._overlays[this._active].callerCloseMethod();this._active&&this.close(this._active)}},{key:"active",get:function(){return this._active}}]);return f}();f.OverlayManager=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PasswordPrompt=void 0;var n=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),h=k(0),q=k(1);l=function(){function d(c,b){var a=this,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.NullL10n;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.overlayName=c.overlayName;this.container=c.container;this.label=c.label;this.input=c.input;this.submitButton=c.submitButton;this.cancelButton=c.cancelButton;this.overlayManager=b;this.l10n=e;this.reason=this.updateCallback=null;this.submitButton.addEventListener("click",this.verify.bind(this));this.cancelButton.addEventListener("click",this.close.bind(this));this.input.addEventListener("keydown",function(b){13===b.keyCode&&a.verify()});this.overlayManager.register(this.overlayName,this.container,this.close.bind(this),!0)}n(d,[{key:"open",value:function(){var c=this;this.overlayManager.open(this.overlayName).then(function(){c.input.focus();var b=void 0,b=c.reason===q.PasswordResponses.INCORRECT_PASSWORD?c.l10n.get("password_invalid",null,"Invalid password. Please try again."):c.l10n.get("password_label",null,"Enter the password to open this PDF file.");b.then(function(a){c.label.textContent=a})})}},{key:"close",value:function(){var c=this;this.overlayManager.close(this.overlayName).then(function(){c.input.value=""})}},{key:"verify",value:function(){var c=this.input.value;if(c&&0<c.length)return this.close(),this.updateCallback(c)}},{key:"setUpdateCallback",value:function(c,b){this.updateCallback=c;this.reason=b}}]);return d}();f.PasswordPrompt=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFAttachmentViewer=void 0;var n=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}(),h=k(1);l=function(){function f(d){var c=d.container,b=d.eventBus;d=d.downloadManager;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.container=c;this.eventBus=b;this.downloadManager=d;this.reset();this.eventBus.on("fileattachmentannotation",this._appendAttachment.bind(this))}n(f,[{key:"reset",value:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.attachments=null;this.container.textContent="";d||(this._renderedCapability=(0,h.createPromiseCapability)())}},{key:"_dispatchEvent",value:function(d){this._renderedCapability.resolve();this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:d})}},{key:"_bindPdfLink",value:function(d,c,b){if(h.PDFJS.disableCreateObjectURL)throw Error('bindPdfLink: Unsupported "PDFJS.disableCreateObjectURL" value.');var a=void 0;d.onclick=function(){a||(a=(0,h.createObjectURL)(c,"application/pdf"));var e;e="?file\x3d"+encodeURIComponent(a+"#"+b);window.open(e);return!1}}},{key:"_bindLink",value:function(d,c,b){var a=this;d.onclick=function(){a.downloadManager.downloadData(c,b,"");return!1}}},{key:"render",value:function(d){var c=d.attachments,b=d.keepRenderedCapability;d=0;this.attachments&&this.reset(!0===(void 0===b?!1:b));this.attachments=c||null;if(c){b=Object.keys(c).sort(function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())});d=b.length;for(var a=0;a<d;a++){var e=c[b[a]],g=(0,h.removeNullCharacters)((0,h.getFilenameFromUrl)(e.filename)),f=document.createElement("div");f.className="attachmentsItem";var t=document.createElement("button");t.textContent=g;/\.pdf$/i.test(g)&&!h.PDFJS.disableCreateObjectURL?this._bindPdfLink(t,e.content,g):this._bindLink(t,e.content,g);f.appendChild(t);this.container.appendChild(f)}}this._dispatchEvent(d)}},{key:"_appendAttachment",value:function(d){var c=this,b=d.id,a=d.filename,e=d.content;this._renderedCapability.promise.then(function(){var g=c.attachments;if(g)for(var d in g){if(b===d)return}else g=Object.create(null);g[b]={filename:a,content:e};c.render({attachments:g,keepRenderedCapability:!0})})}}]);return f}();f.PDFAttachmentViewer=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFDocumentProperties=void 0;var n=function(){return function(c,b){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c)){var a=[],e=!0,g=!1,d=void 0;try{for(var f=c[Symbol.iterator](),u;!(e=(u=f.next()).done)&&(a.push(u.value),!b||a.length!==b);e=!0);}catch(r){g=!0,d=r}finally{try{if(!e&&f["return"])f["return"]()}finally{if(g)throw d;}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),h=function(){function c(b,a){for(var c=0;c<a.length;c++){var g=a[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),q=k(0),d=k(1);l=function(){function c(b,a){var e=b.overlayName,g=b.fields,d=b.container,f=b.closeButton,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:q.NullL10n;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.overlayName=e;this.fields=g;this.container=d;this.overlayManager=a;this.l10n=u;this._reset();f&&f.addEventListener("click",this.close.bind(this));this.overlayManager.register(this.overlayName,this.container,this.close.bind(this))}h(c,[{key:"open",value:function(){var b=this,a=function(a){Object.defineProperty(b,"fieldData",{value:Object.freeze(a),writable:!1,enumerable:!0,configurable:!0})};Promise.all([this.overlayManager.open(this.overlayName),this._dataAvailableCapability.promise]).then(function(){b.fieldData?b._updateUI():b.pdfDocument.getMetadata().then(function(a){var c=a.info;return Promise.all([c,a.metadata,b._parseFileSize(b.maybeFileSize),b._parseDate(c.CreationDate),b._parseDate(c.ModDate)])}).then(function(c){var e=n(c,5);c=e[0];var d=e[2],f=e[3],e=e[4];a({fileName:(0,q.getPDFFileNameFromURL)(b.url),fileSize:d,title:c.Title,author:c.Author,subject:c.Subject,keywords:c.Keywords,creationDate:f,modificationDate:e,creator:c.Creator,producer:c.Producer,version:c.PDFFormatVersion,pageCount:b.pdfDocument.numPages});b._updateUI();return b.pdfDocument.getDownloadInfo()}).then(function(a){return b._parseFileSize(a.length)}).then(function(c){var e=(0,q.cloneObj)(b.fieldData);e.fileSize=c;a(e);b._updateUI()})})}},{key:"close",value:function(){this.overlayManager.close(this.overlayName)}},{key:"setDocument",value:function(b,a){this.pdfDocument&&(this._reset(),this._updateUI(!0));b&&(this.pdfDocument=b,this.url=a,this._dataAvailableCapability.resolve())}},{key:"setFileSize",value:function(b){"number"===typeof b&&0<b&&(this.maybeFileSize=b)}},{key:"_reset",value:function(){this.url=this.pdfDocument=null;this.maybeFileSize=0;delete this.fieldData;this._dataAvailableCapability=(0,d.createPromiseCapability)()}},{key:"_updateUI",value:function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||!this.fieldData)for(var b in this.fields)this.fields[b].textContent="-";else if(this.overlayManager.active===this.overlayName)for(var a in this.fields)b=this.fieldData[a],this.fields[a].textContent=b||0===b?b:"-"}},{key:"_parseFileSize",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=b/1024;return a?1024>a?this.l10n.get("document_properties_kb",{size_kb:(+a.toPrecision(3)).toLocaleString(),size_b:b.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)"):this.l10n.get("document_properties_mb",{size_mb:(+(a/1024).toPrecision(3)).toLocaleString(),size_b:b.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)"):Promise.resolve(void 0)}},{key:"_parseDate",value:function(b){if(b){var a=b;"D:"===a.substring(0,2)&&(a=a.substring(2));b=parseInt(a.substring(0,4),10);var c=parseInt(a.substring(4,6),10)-1,g=parseInt(a.substring(6,8),10),d=parseInt(a.substring(8,10),10),f=parseInt(a.substring(10,12),10),u=parseInt(a.substring(12,14),10),r=a.substring(14,15),h=parseInt(a.substring(15,17),10),a=parseInt(a.substring(18,20),10);"-"===r?(d+=h,f+=a):"+"===r&&(d-=h,f-=a);c=new Date(Date.UTC(b,c,g,d,f,u));b=c.toLocaleDateString();c=c.toLocaleTimeString();return this.l10n.get("document_properties_date_string",{date:b,time:c},"{{date}}, {{time}}")}}}]);return c}();f.PDFDocumentProperties=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFFindBar=void 0;var n=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),h=k(7),q=k(0);l=function(){function d(c){var b=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:q.NullL10n;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.opened=!1;this.bar=c.bar||null;this.toggleButton=c.toggleButton||null;this.findField=c.findField||null;this.highlightAll=c.highlightAllCheckbox||null;this.caseSensitive=c.caseSensitiveCheckbox||null;this.findMsg=c.findMsg||null;this.findResultsCount=c.findResultsCount||null;this.findStatusIcon=c.findStatusIcon||null;this.findPreviousButton=c.findPreviousButton||null;this.findNextButton=c.findNextButton||null;this.findController=c.findController||null;this.eventBus=c.eventBus;this.l10n=a;if(null===this.findController)throw Error("PDFFindBar cannot be used without a PDFFindController instance.");this.toggleButton.addEventListener("click",function(){b.toggle()});this.findField.addEventListener("input",function(){b.dispatchEvent("")});this.bar.addEventListener("keydown",function(a){switch(a.keyCode){case 13:a.target===b.findField&&b.dispatchEvent("again",a.shiftKey);break;case 27:b.close()}});this.findPreviousButton.addEventListener("click",function(){b.dispatchEvent("again",!0)});this.findNextButton.addEventListener("click",function(){b.dispatchEvent("again",!1)});this.highlightAll.addEventListener("click",function(){b.dispatchEvent("highlightallchange")});this.caseSensitive.addEventListener("click",function(){b.dispatchEvent("casesensitivitychange")});this.eventBus.on("resize",this._adjustWidth.bind(this))}n(d,[{key:"reset",value:function(){this.updateUIState()}},{key:"dispatchEvent",value:function(c,b){this.eventBus.dispatch("find",{source:this,type:c,query:this.findField.value,caseSensitive:this.caseSensitive.checked,phraseSearch:!0,highlightAll:this.highlightAll.checked,findPrevious:b})}},{key:"updateUIState",value:function(c,b,a){var e=this,g=!1,d="",f="";switch(c){case h.FindState.PENDING:f="pending";break;case h.FindState.NOT_FOUND:d=this.l10n.get("find_not_found",null,"Phrase not found");g=!0;break;case h.FindState.WRAPPED:d=b?this.l10n.get("find_reached_top",null,"Reached top of document, continued from bottom"):this.l10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}g?this.findField.classList.add("notFound"):this.findField.classList.remove("notFound");this.findField.setAttribute("data-status",f);Promise.resolve(d).then(function(a){e.findMsg.textContent=a;e._adjustWidth()});this.updateResultsCount(a)}},{key:"updateResultsCount",value:function(c){this.findResultsCount&&(c?(this.findResultsCount.textContent=c.toLocaleString(),this.findResultsCount.classList.remove("hidden")):(this.findResultsCount.classList.add("hidden"),this.findResultsCount.textContent=""),this._adjustWidth())}},{key:"open",value:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.bar.classList.remove("hidden"));this.findField.select();this.findField.focus();this._adjustWidth()}},{key:"close",value:function(){this.opened&&(this.opened=!1,this.toggleButton.classList.remove("toggled"),this.bar.classList.add("hidden"),this.findController.active=!1)}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"_adjustWidth",value:function(){this.opened&&(this.bar.classList.remove("wrapContainers"),this.bar.clientHeight>this.bar.firstElementChild.clientHeight&&this.bar.classList.add("wrapContainers"))}}]);return d}();f.PDFFindBar=l},function(l,f,k){function n(a){var c=unescape(document.location.hash).substring(1),e=(0,b.parseQueryString)(c).page|0;Number.isInteger(e)&&0<e&&e<=a.pagesCount||(e=null);return{hash:c,page:e,rotation:a.rotation}}function h(a,c){return"string"!==typeof a||"string"!==typeof c?!1:a===c||(0,b.parseQueryString)(a).nameddest===c?!0:!1}function q(a,b){function c(a,b){if(("undefined"===typeof a?"undefined":d(a))!==("undefined"===typeof b?"undefined":d(b))||a instanceof Array||b instanceof Array)return!1;if(null!==a&&"object"===("undefined"===typeof a?"undefined":d(a))&&null!==b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(var e in a)if(!c(a[e],b[e]))return!1;return!0}return a===b||Number.isNaN(a)&&Number.isNaN(b)}if(!(a instanceof Array&&b instanceof Array)||a.length!==b.length)return!1;for(var e=0,g=a.length;e<g;e++)if(!c(a[e],b[e]))return!1;return!0}Object.defineProperty(f,"__esModule",{value:!0});f.isDestArraysEqual=f.isDestHashesEqual=f.PDFHistory=void 0;var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},c=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),b=k(0),a=k(2);l=function(){function e(b){var c=this,d=b.linkService;b=b.eventBus;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.linkService=d;this.eventBus=b||(0,a.getGlobalEventBus)();this.initialized=!1;this.initialRotation=this.initialBookmark=null;this._boundEvents=Object.create(null);this._isPagesLoaded=this._isViewerInPresentationMode=!1;this.eventBus.on("presentationmodechanged",function(a){c._isViewerInPresentationMode=a.active||a.switchInProgress});this.eventBus.on("pagesloaded",function(a){c._isPagesLoaded=!!a.pagesCount})}c(e,[{key:"initialize",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(a&&"string"===typeof a){var c=this.initialized&&this.fingerprint!==a;this.fingerprint=a;this.initialized||this._bindEvents();var e=window.history.state;this.initialized=!0;this.initialRotation=this.initialBookmark=null;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=document.location.hash;this._uid=this._maxUid=this._numPositionUpdates=0;this._position=this._destination=null;if(!this._isValidState(e)||b){var d=n(this.linkService),e=d.hash,g=d.page,d=d.rotation;!e||c||b?this._pushOrReplaceState(null,!0):this._pushOrReplaceState({hash:e,page:g,rotation:d},!0)}else b=e.destination,this._updateInternalState(b,e.uid,!0),void 0!==b.rotation&&(this.initialRotation=b.rotation),b.dest?(this.initialBookmark=JSON.stringify(b.dest),this._destination.page=null):b.hash?this.initialBookmark=b.hash:b.page&&(this.initialBookmark="page\x3d"+b.page)}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"push",value:function(a){var b=this,c=a.namedDest,e=a.explicitDest;a=a.pageNumber;if(this.initialized)if((!c||"string"===typeof c)&&e instanceof Array&&Number.isInteger(a)&&0<a&&a<=this.linkService.pagesCount){if(c=c||JSON.stringify(e)){var d=!1;if(this._destination&&(h(this._destination.hash,c)||q(this._destination.dest,e))){if(this._destination.page)return;d=!0}if(!this._popStateInProgress||d)this._pushOrReplaceState({dest:e,hash:c,page:a,rotation:this.linkService.rotation},d),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){b._popStateInProgress=!1}))}}else console.error("PDFHistory.push: Invalid parameters.")}},{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&0<a.uid&&window.history.back()}}},{key:"forward",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&a.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)||!this._destination,c={fingerprint:this.fingerprint,uid:b?this._uid:this._uid+1,destination:a};this._updateInternalState(a,c.uid);b?window.history.replaceState(c,"",document.URL):(this._maxUid=this._uid,window.history.pushState(c,"",document.URL))}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var a=this._position;0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(a=(0,b.cloneObj)(this._position),a.temporary=!0);if(!this._destination)this._pushOrReplaceState(a);else if(this._destination.temporary)this._pushOrReplaceState(a,!0);else if(!(this._destination.hash===a.hash||!this._destination.page&&50>=this._numPositionUpdates)){var c=!1;if(this._destination.page===a.first||this._destination.page===a.page){if(this._destination.dest||!this._destination.first)return;c=!0}this._pushOrReplaceState(a,c)}}}},{key:"_isValidState",value:function(a){return!a||a.fingerprint!==this.fingerprint||!Number.isInteger(a.uid)||0>a.uid||null===a.destination||"object"!==d(a.destination)?!1:!0}},{key:"_updateInternalState",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);c&&a&&a.temporary&&delete a.temporary;this._destination=a;this._uid=b;this._numPositionUpdates=0}},{key:"_updateViewarea",value:function(a){var b=this;a=a.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);this._position={hash:this._isViewerInPresentationMode?"page\x3d"+a.pageNumber:a.pdfOpenParams.substring(1),page:this.linkService.page,first:a.pageNumber,rotation:a.rotation};this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){b._popStateInProgress||b._tryPushCurrentPosition(!0);b._updateViewareaTimeout=null},1E3))}},{key:"_popState",value:function(a){var c=this;a=a.state;var e=document.location.hash,d=this._currentHash!==e;this._currentHash=e;a?this._isValidState(a)&&(this._popStateInProgress=!0,d&&(this._blockHashChange++,(0,b.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1E3}).then(function(){c._blockHashChange--})),e=a.destination,this._updateInternalState(e,a.uid,!0),(0,b.isValidRotation)(e.rotation)&&(this.linkService.rotation=e.rotation),e.dest?this.linkService.navigateTo(e.dest):e.hash?this.linkService.setHash(e.hash):e.page&&(this.linkService.page=e.page),Promise.resolve().then(function(){c._popStateInProgress=!1})):(this._uid++,a=n(this.linkService),this._pushOrReplaceState({hash:a.hash,page:a.page,rotation:a.rotation},!0))}},{key:"_bindEvents",value:function(){var a=this,b=this._boundEvents,c=this.eventBus;b.updateViewarea=this._updateViewarea.bind(this);b.popState=this._popState.bind(this);b.pageHide=function(b){a._destination||a._tryPushCurrentPosition()};c.on("updateviewarea",b.updateViewarea);window.addEventListener("popstate",b.popState);window.addEventListener("pagehide",b.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&(this._popStateInProgress||0<this._blockHashChange)}}]);return e}();f.PDFHistory=l;f.isDestHashesEqual=h;f.isDestArraysEqual=q},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFOutlineViewer=void 0;var n=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}(),h=k(1);l=function(){function f(d){var c=d.container,b=d.linkService;d=d.eventBus;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.container=c;this.linkService=b;this.eventBus=d;this.reset()}n(f,[{key:"reset",value:function(){this.outline=null;this.lastToggleIsShow=!0;this.container.textContent="";this.container.classList.remove("outlineWithDeepNesting")}},{key:"_dispatchEvent",value:function(d){this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:d})}},{key:"_bindLink",value:function(d,c){var b=this;if(c.url)(0,h.addLinkAttributes)(d,{url:c.url,target:c.newWindow?h.PDFJS.LinkTarget.BLANK:void 0});else{var a=c.dest;d.href=this.linkService.getDestinationHash(a);d.onclick=function(){a&&b.linkService.navigateTo(a);return!1}}}},{key:"_setStyles",value:function(d,c){var b="";c.bold&&(b+="font-weight: bold;");c.italic&&(b+="font-style: italic;");b&&d.setAttribute("style",b)}},{key:"_addToggleButton",value:function(d){var c=this,b=document.createElement("div");b.className="outlineItemToggler";b.onclick=function(a){a.stopPropagation();b.classList.toggle("outlineItemsHidden");a.shiftKey&&(a=!b.classList.contains("outlineItemsHidden"),c._toggleOutlineItem(d,a))};d.insertBefore(b,d.firstChild)}},{key:"_toggleOutlineItem",value:function(d,c){this.lastToggleIsShow=c;for(var b=d.querySelectorAll(".outlineItemToggler"),a=0,e=b.length;a<e;++a)b[a].classList[c?"remove":"add"]("outlineItemsHidden")}},{key:"toggleOutlineTree",value:function(){this.outline&&this._toggleOutlineItem(this.container,!this.lastToggleIsShow)}},{key:"render",value:function(d){var c=d.outline;d=0;this.outline&&this.reset();this.outline=c||null;if(c){for(var c=document.createDocumentFragment(),b=[{parent:c,items:this.outline}],a=!1;0<b.length;)for(var e=b.shift(),g=0,f=e.items.length;g<f;g++){var t=e.items[g],u=document.createElement("div");u.className="outlineItem";var r=document.createElement("a");this._bindLink(r,t);this._setStyles(r,t);r.textContent=(0,h.removeNullCharacters)(t.title)||"\u2013";u.appendChild(r);0<t.items.length&&(a=!0,this._addToggleButton(u),r=document.createElement("div"),r.className="outlineItems",u.appendChild(r),b.push({parent:r,items:t.items}));e.parent.appendChild(u);d++}a&&this.container.classList.add("outlineWithDeepNesting");this.container.appendChild(c)}this._dispatchEvent(d)}}]);return f}();f.PDFOutlineViewer=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFPresentationMode=void 0;var n=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),h=k(0),q=Math.PI/6;l=function(){function d(c){var b=this,a=c.container,e=c.viewer,e=void 0===e?null:e,g=c.pdfViewer,f=c.eventBus;c=c.contextMenuItems;c=void 0===c?null:c;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.container=a;this.viewer=e||a.firstElementChild;this.pdfViewer=g;this.eventBus=f;this.active=!1;this.args=null;this.contextMenuOpen=!1;this.mouseScrollDelta=this.mouseScrollTimeStamp=0;this.touchSwipeState=null;c&&(c.contextFirstPage.addEventListener("click",function(){b.contextMenuOpen=!1;b.eventBus.dispatch("firstpage")}),c.contextLastPage.addEventListener("click",function(){b.contextMenuOpen=!1;b.eventBus.dispatch("lastpage")}),c.contextPageRotateCw.addEventListener("click",function(){b.contextMenuOpen=!1;b.eventBus.dispatch("rotatecw")}),c.contextPageRotateCcw.addEventListener("click",function(){b.contextMenuOpen=!1;b.eventBus.dispatch("rotateccw")}))}n(d,[{key:"request",value:function(){if(this.switchInProgress||this.active||!this.viewer.hasChildNodes())return!1;this._addFullscreenChangeListeners();this._setSwitchInProgress();this._notifyStateChange();if(this.container.requestFullscreen)this.container.requestFullscreen();else if(this.container.mozRequestFullScreen)this.container.mozRequestFullScreen();else if(this.container.webkitRequestFullscreen)this.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else if(this.container.msRequestFullscreen)this.container.msRequestFullscreen();else return!1;this.args={page:this.pdfViewer.currentPageNumber,previousScale:this.pdfViewer.currentScaleValue};return!0}},{key:"_mouseWheel",value:function(c){if(this.active){c.preventDefault();var b=(0,h.normalizeWheelEventDelta)(c);c=(new Date).getTime();var a=this.mouseScrollTimeStamp;!(c>a&&50>c-a)&&((0<this.mouseScrollDelta&&0>b||0>this.mouseScrollDelta&&0<b)&&this._resetMouseScrollState(),this.mouseScrollDelta+=b,.1<=Math.abs(this.mouseScrollDelta)&&(b=this.mouseScrollDelta,this._resetMouseScrollState(),0<b?this._goToPreviousPage():this._goToNextPage()))&&(this.mouseScrollTimeStamp=c)}}},{key:"_goToPreviousPage",value:function(){var c=this.pdfViewer.currentPageNumber;if(1>=c)return!1;this.pdfViewer.currentPageNumber=c-1;return!0}},{key:"_goToNextPage",value:function(){var c=this.pdfViewer.currentPageNumber;if(c>=this.pdfViewer.pagesCount)return!1;this.pdfViewer.currentPageNumber=c+1;return!0}},{key:"_notifyStateChange",value:function(){this.eventBus.dispatch("presentationmodechanged",{source:this,active:this.active,switchInProgress:!!this.switchInProgress})}},{key:"_setSwitchInProgress",value:function(){var c=this;this.switchInProgress&&clearTimeout(this.switchInProgress);this.switchInProgress=setTimeout(function(){c._removeFullscreenChangeListeners();delete c.switchInProgress;c._notifyStateChange()},1500)}},{key:"_resetSwitchInProgress",value:function(){this.switchInProgress&&(clearTimeout(this.switchInProgress),delete this.switchInProgress)}},{key:"_enter",value:function(){var c=this;this.active=!0;this._resetSwitchInProgress();this._notifyStateChange();this.container.classList.add("pdfPresentationMode");setTimeout(function(){c.pdfViewer.currentPageNumber=c.args.page;c.pdfViewer.currentScaleValue="page-fit"},0);this._addWindowListeners();this._showControls();this.contextMenuOpen=!1;this.container.setAttribute("contextmenu","viewerContextMenu");window.getSelection().removeAllRanges()}},{key:"_exit",value:function(){var c=this,b=this.pdfViewer.currentPageNumber;this.container.classList.remove("pdfPresentationMode");setTimeout(function(){c.active=!1;c._removeFullscreenChangeListeners();c._notifyStateChange();c.pdfViewer.currentScaleValue=c.args.previousScale;c.pdfViewer.currentPageNumber=b;c.args=null},0);this._removeWindowListeners();this._hideControls();this._resetMouseScrollState();this.container.removeAttribute("contextmenu");this.contextMenuOpen=!1}},{key:"_mouseDown",value:function(c){this.contextMenuOpen?(this.contextMenuOpen=!1,c.preventDefault()):0!==c.button||c.target.href&&c.target.classList.contains("internalLink")||(c.preventDefault(),c.shiftKey?this._goToPreviousPage():this._goToNextPage())}},{key:"_contextMenu",value:function(){this.contextMenuOpen=!0}},{key:"_showControls",value:function(){var c=this;this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add("pdfPresentationModeControls");this.controlsTimeout=setTimeout(function(){c.container.classList.remove("pdfPresentationModeControls");delete c.controlsTimeout},3E3)}},{key:"_hideControls",value:function(){this.controlsTimeout&&(clearTimeout(this.controlsTimeout),this.container.classList.remove("pdfPresentationModeControls"),delete this.controlsTimeout)}},{key:"_resetMouseScrollState",value:function(){this.mouseScrollDelta=this.mouseScrollTimeStamp=0}},{key:"_touchSwipe",value:function(c){if(this.active)if(1<c.touches.length)this.touchSwipeState=null;else switch(c.type){case "touchstart":this.touchSwipeState={startX:c.touches[0].pageX,startY:c.touches[0].pageY,endX:c.touches[0].pageX,endY:c.touches[0].pageY};break;case "touchmove":if(null===this.touchSwipeState)break;this.touchSwipeState.endX=c.touches[0].pageX;this.touchSwipeState.endY=c.touches[0].pageY;c.preventDefault();break;case "touchend":if(null!==this.touchSwipeState){c=0;var b=this.touchSwipeState.endX-this.touchSwipeState.startX,a=this.touchSwipeState.endY-this.touchSwipeState.startY,e=Math.abs(Math.atan2(a,b));50<Math.abs(b)&&(e<=q||e>=Math.PI-q)?c=b:50<Math.abs(a)&&Math.abs(e-Math.PI/2)<=q&&(c=a);0<c?this._goToPreviousPage():0>c&&this._goToNextPage()}}}},{key:"_addWindowListeners",value:function(){this.showControlsBind=this._showControls.bind(this);this.mouseDownBind=this._mouseDown.bind(this);this.mouseWheelBind=this._mouseWheel.bind(this);this.resetMouseScrollStateBind=this._resetMouseScrollState.bind(this);this.contextMenuBind=this._contextMenu.bind(this);this.touchSwipeBind=this._touchSwipe.bind(this);window.addEventListener("mousemove",this.showControlsBind);window.addEventListener("mousedown",this.mouseDownBind);window.addEventListener("wheel",this.mouseWheelBind);window.addEventListener("keydown",this.resetMouseScrollStateBind);window.addEventListener("contextmenu",this.contextMenuBind);window.addEventListener("touchstart",this.touchSwipeBind);window.addEventListener("touchmove",this.touchSwipeBind);window.addEventListener("touchend",this.touchSwipeBind)}},{key:"_removeWindowListeners",value:function(){window.removeEventListener("mousemove",this.showControlsBind);window.removeEventListener("mousedown",this.mouseDownBind);window.removeEventListener("wheel",this.mouseWheelBind);window.removeEventListener("keydown",this.resetMouseScrollStateBind);window.removeEventListener("contextmenu",this.contextMenuBind);window.removeEventListener("touchstart",this.touchSwipeBind);window.removeEventListener("touchmove",this.touchSwipeBind);window.removeEventListener("touchend",this.touchSwipeBind);delete this.showControlsBind;delete this.mouseDownBind;delete this.mouseWheelBind;delete this.resetMouseScrollStateBind;delete this.contextMenuBind;delete this.touchSwipeBind}},{key:"_fullscreenChange",value:function(){this.isFullscreen?this._enter():this._exit()}},{key:"_addFullscreenChangeListeners",value:function(){this.fullscreenChangeBind=this._fullscreenChange.bind(this);window.addEventListener("fullscreenchange",this.fullscreenChangeBind);window.addEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.addEventListener("webkitfullscreenchange",this.fullscreenChangeBind);window.addEventListener("MSFullscreenChange",this.fullscreenChangeBind)}},{key:"_removeFullscreenChangeListeners",value:function(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind);window.removeEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("webkitfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("MSFullscreenChange",this.fullscreenChangeBind);delete this.fullscreenChangeBind}},{key:"isFullscreen",get:function(){return!!(document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement)}}]);return d}();f.PDFPresentationMode=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFThumbnailViewer=void 0;var n=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),h=k(0),q=k(20);l=function(){function d(c){var b=c.container,a=c.linkService,e=c.renderingQueue;c=c.l10n;c=void 0===c?h.NullL10n:c;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.container=b;this.linkService=a;this.renderingQueue=e;this.l10n=c;this.scroll=(0,h.watchScroll)(this.container,this._scrollUpdated.bind(this));this._resetView()}n(d,[{key:"_scrollUpdated",value:function(){this.renderingQueue.renderHighestPriority()}},{key:"getThumbnail",value:function(c){return this._thumbnails[c]}},{key:"_getVisibleThumbs",value:function(){return(0,h.getVisibleElements)(this.container,this._thumbnails)}},{key:"scrollThumbnailIntoView",value:function(c){var b=document.querySelector(".thumbnail.selected");b&&b.classList.remove("selected");(b=document.querySelector('div.thumbnail[data-page-number\x3d"'+c+'"]'))&&b.classList.add("selected");var a=this._getVisibleThumbs(),e=a.views.length;if(0<e){var d=a.first.id,a=1<e?a.last.id:d;(c<=d||c>=a)&&(0,h.scrollIntoView)(b,{top:-19})}}},{key:"cleanup",value:function(){q.PDFThumbnailView.cleanup()}},{key:"_resetView",value:function(){this._thumbnails=[];this._pageLabels=null;this._pagesRotation=0;this._pagesRequests=[];this.container.textContent=""}},{key:"setDocument",value:function(c){var b=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());(this.pdfDocument=c)&&c.getPage(1).then(function(a){var e=c.numPages;a=a.getViewport(1);for(var d=1;d<=e;++d){var f=new q.PDFThumbnailView({container:b.container,id:d,defaultViewport:a.clone(),linkService:b.linkService,renderingQueue:b.renderingQueue,disableCanvasToImageConversion:!1,l10n:b.l10n});b._thumbnails.push(f)}})["catch"](function(a){console.error("Unable to initialize thumbnail viewer",a)})}},{key:"_cancelRendering",value:function(){for(var c=0,b=this._thumbnails.length;c<b;c++)this._thumbnails[c]&&this._thumbnails[c].cancelRendering()}},{key:"setPageLabels",value:function(c){if(this.pdfDocument){c?c instanceof Array&&this.pdfDocument.numPages===c.length?this._pageLabels=c:(this._pageLabels=null,console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;c=0;for(var b=this._thumbnails.length;c<b;c++)this._thumbnails[c].setPageLabel(this._pageLabels&&this._pageLabels[c])}}},{key:"_ensurePdfPageLoaded",value:function(c){var b=this;if(c.pdfPage)return Promise.resolve(c.pdfPage);var a=c.id;if(this._pagesRequests[a])return this._pagesRequests[a];var e=this.pdfDocument.getPage(a).then(function(e){c.setPdfPage(e);b._pagesRequests[a]=null;return e})["catch"](function(c){console.error("Unable to get page for thumb view",c);b._pagesRequests[a]=null});return this._pagesRequests[a]=e}},{key:"forceRendering",value:function(){var c=this,b=this._getVisibleThumbs(),a=this.renderingQueue.getHighestPriority(b,this._thumbnails,this.scroll.down);return a?(this._ensurePdfPageLoaded(a).then(function(){c.renderingQueue.renderView(a)}),!0):!1}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(c){if(!(0,h.isValidRotation)(c))throw Error("Invalid thumbnails rotation angle.");if(this.pdfDocument&&this._pagesRotation!==c){this._pagesRotation=c;for(var b=0,a=this._thumbnails.length;b<a;b++)this._thumbnails[b].update(c)}}}]);return d}();f.PDFThumbnailViewer=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFThumbnailView=void 0;var n=function(){function b(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),h=k(1),q=k(0),d=k(3),c=function(){var b=null;return{getCanvas:function(a,c){var e=b;e||(b=e=document.createElement("canvas"));e.width=a;e.height=c;e.mozOpaque=!0;var d=e.getContext("2d",{alpha:!1});d.save();d.fillStyle="rgb(255, 255, 255)";d.fillRect(0,0,a,c);d.restore();return e},destroyCanvas:function(){var a=b;a&&(a.width=0,a.height=0);b=null}}}();l=function(){function b(a){var c=a.container,g=a.id,f=a.defaultViewport,h=a.linkService,u=a.renderingQueue,r=a.disableCanvasToImageConversion,r=void 0===r?!1:r;a=a.l10n;a=void 0===a?q.NullL10n:a;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.id=g;this.renderingId="thumbnail"+g;this.pdfPage=this.pageLabel=null;this.rotation=0;this.viewport=f;this.pdfPageRotate=f.rotation;this.linkService=h;this.renderingQueue=u;this.renderTask=null;this.renderingState=d.RenderingStates.INITIAL;this.resume=null;this.disableCanvasToImageConversion=r;this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasWidth=98;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.l10n=a;var z=document.createElement("a");z.href=h.getAnchorUrl("#page\x3d"+g);this.l10n.get("thumb_page_title",{page:g},"Page {{page}}").then(function(a){z.title=a});z.onclick=function(){h.page=g;return!1};this.anchor=z;f=document.createElement("div");f.className="thumbnail";f.setAttribute("data-page-number",this.id);this.div=f;1===g&&f.classList.add("selected");u=document.createElement("div");u.className="thumbnailSelectionRing";u.style.width=this.canvasWidth+2+"px";u.style.height=this.canvasHeight+2+"px";this.ring=u;f.appendChild(u);z.appendChild(f);c.appendChild(z)}n(b,[{key:"setPdfPage",value:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(1,(this.rotation+this.pdfPageRotate)%360);this.reset()}},{key:"reset",value:function(){this.cancelRendering();this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.div.removeAttribute("data-loaded");for(var a=this.ring,b=a.childNodes,c=b.length-1;0<=c;c--)a.removeChild(b[c]);a.style.width=this.canvasWidth+2+"px";a.style.height=this.canvasHeight+2+"px";this.canvas&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas);this.image&&(this.image.removeAttribute("src"),delete this.image)}},{key:"update",value:function(a){"undefined"!==typeof a&&(this.rotation=a);this.viewport=this.viewport.clone({scale:1,rotation:(this.rotation+this.pdfPageRotate)%360});this.reset()}},{key:"cancelRendering",value:function(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null);this.renderingState=d.RenderingStates.INITIAL;this.resume=null}},{key:"_getPageDrawContext",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=document.createElement("canvas");this.canvas=b;b.mozOpaque=!0;var c=b.getContext("2d",{alpha:!1}),d=(0,q.getOutputScale)(c);b.width=this.canvasWidth*d.sx|0;b.height=this.canvasHeight*d.sy|0;b.style.width=this.canvasWidth+"px";b.style.height=this.canvasHeight+"px";!a&&d.scaled&&c.scale(d.sx,d.sy);return c}},{key:"_convertCanvasToImage",value:function(){var a=this;if(this.canvas&&this.renderingState===d.RenderingStates.FINISHED){var b=this.renderingId;if(this.disableCanvasToImageConversion)this.canvas.id=b,this.canvas.className="thumbnailImage",this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(b){a.canvas.setAttribute("aria-label",b)}),this.div.setAttribute("data-loaded",!0),this.ring.appendChild(this.canvas);else{var c=document.createElement("img");c.id=b;c.className="thumbnailImage";this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(a){c.setAttribute("aria-label",a)});c.style.width=this.canvasWidth+"px";c.style.height=this.canvasHeight+"px";c.src=this.canvas.toDataURL();this.image=c;this.div.setAttribute("data-loaded",!0);this.ring.appendChild(c);this.canvas.width=0;this.canvas.height=0;delete this.canvas}}}},{key:"draw",value:function(){var a=this;if(this.renderingState!==d.RenderingStates.INITIAL)return console.error("Must be in new state before drawing"),Promise.resolve(void 0);this.renderingState=d.RenderingStates.RUNNING;var b=(0,h.createPromiseCapability)(),c=function(c){u===a.renderTask&&(a.renderTask=null);"cancelled"===c||c instanceof h.RenderingCancelledException?b.resolve(void 0):(a.renderingState=d.RenderingStates.FINISHED,a._convertCanvasToImage(),c?b.reject(c):b.resolve(void 0))},f=this._getPageDrawContext(),t=this.viewport.clone({scale:this.scale}),u=this.renderTask=this.pdfPage.render({canvasContext:f,viewport:t});u.onContinue=function(b){a.renderingQueue.isHighestPriority(a)?b():(a.renderingState=d.RenderingStates.PAUSED,a.resume=function(){a.renderingState=d.RenderingStates.RUNNING;b()})};u.promise.then(function(){c(null)},function(a){c(a)});return b.promise}},{key:"setImage",value:function(a){if(this.renderingState===d.RenderingStates.INITIAL){var b=a.canvas;if(b){this.pdfPage||this.setPdfPage(a.pdfPage);this.renderingState=d.RenderingStates.FINISHED;a=this._getPageDrawContext(!0);var f=a.canvas;if(b.width<=2*f.width)a.drawImage(b,0,0,b.width,b.height,0,0,f.width,f.height);else{for(var p=f.width<<3,h=f.height<<3,u=c.getCanvas(p,h),r=u.getContext("2d");p>b.width||h>b.height;)p>>=1,h>>=1;for(r.drawImage(b,0,0,b.width,b.height,0,0,p,h);p>2*f.width;)r.drawImage(u,0,0,p,h,0,0,p>>1,h>>1),p>>=1,h>>=1;a.drawImage(u,0,0,p,h,0,0,f.width,f.height)}this._convertCanvasToImage()}}}},{key:"setPageLabel",value:function(a){var b=this;this.pageLabel="string"===typeof a?a:null;this.l10n.get("thumb_page_title",{page:this.pageId},"Page {{page}}").then(function(a){b.anchor.title=a});this.renderingState===d.RenderingStates.FINISHED&&this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(a){b.image?b.image.setAttribute("aria-label",a):b.disableCanvasToImageConversion&&b.canvas&&b.canvas.setAttribute("aria-label",a)})}},{key:"pageId",get:function(){return null!==this.pageLabel?this.pageLabel:this.id}}],[{key:"cleanup",value:function(){c.destroyCanvas()}}]);return b}();f.PDFThumbnailView=l},function(l,f,k){function n(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.PDFViewer=void 0;var h=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),q=k(0);l=k(22);var d=k(1);k=function(c){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}n(b,c);h(b,[{key:"_scrollIntoView",value:function(a){var b=a.pageDiv;a=a.pageSpot;a=void 0===a?null:a;(0,q.scrollIntoView)(b,a)}},{key:"_getVisiblePages",value:function(){if(!this.isInPresentationMode)return(0,q.getVisibleElements)(this.container,this._pages,!0);var a=this._pages[this._currentPageNumber-1];return{first:a,last:a,views:[{id:a.id,view:a}]}}},{key:"update",value:function(){var a=this._getVisiblePages(),b=a.views,c=b.length;if(0!==c){this._resizeBuffer(c);this.renderingQueue.renderHighestPriority(a);for(var d=this._currentPageNumber,f=!1,h=0;h<c;++h){var r=b[h];if(100>r.percent)break;if(r.id===d){f=!0;break}}f||(d=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(d);this._updateLocation(a.first);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"_setDocumentViewerElement",get:function(){return(0,d.shadow)(this,"_setDocumentViewerElement",this.viewer)}}]);return b}(l.BaseViewer);f.PDFViewer=k},function(l,f,k){function n(a){var b=[];this.push=function(c){var e=b.indexOf(c);0<=e&&b.splice(e,1);b.push(c);b.length>a&&b.shift().destroy()};this.resize=function(c){for(a=c;b.length>a;)b.shift().destroy()}}function h(a){return a.width<=a.height}Object.defineProperty(f,"__esModule",{value:!0});f.BaseViewer=void 0;var q=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),d=k(1),c=k(0),b=k(3),a=k(23),e=k(2),g=k(24),p=k(5),t=k(25);l=function(){function f(a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");if(this.constructor===f)throw Error("Cannot initialize BaseViewer.");this._name=this.constructor.name;this.container=a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=a.eventBus||(0,e.getGlobalEventBus)();this.linkService=a.linkService||new p.SimpleLinkService;this.downloadManager=a.downloadManager||null;this.removePageBorders=a.removePageBorders||!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=a.renderInteractiveForms||!1;this.enablePrintAutoRotate=a.enablePrintAutoRotate||!1;this.renderer=a.renderer||c.RendererType.CANVAS;this.l10n=a.l10n||c.NullL10n;(this.defaultRenderingQueue=!a.renderingQueue)?(this.renderingQueue=new b.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=(0,c.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=c.PresentationModeState.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}q(f,[{key:"getPageView",value:function(a){return this._pages[a]}},{key:"_setCurrentPageNumber",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error(this._name+'._setCurrentPageNumber: "'+a+'" is out of bounds.')}},{key:"setDocument",value:function(a){var b=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=a){var e=a.numPages,f=(0,d.createPromiseCapability)();this.pagesPromise=f.promise;f.promise.then(function(){b._pageViewsReady=!0;b.eventBus.dispatch("pagesloaded",{source:b,pagesCount:e})});var p=!1,r=(0,d.createPromiseCapability)();this.onePageRendered=r.promise;var h=function(a){a.onBeforeDraw=function(){b._buffer.push(a)};a.onAfterDraw=function(){p||(p=!0,r.resolve())}},t=a.getPage(1);this.firstPagePromise=t;t.then(function(p){var w=b.currentScale;p=p.getViewport(w*c.CSS_UNITS);for(var x=1;x<=e;++x){var t=null;d.PDFJS.disableTextLayer||(t=b);t=new g.PDFPageView({container:b._setDocumentViewerElement,eventBus:b.eventBus,id:x,scale:w,defaultViewport:p.clone(),renderingQueue:b.renderingQueue,textLayerFactory:t,annotationLayerFactory:b,enhanceTextSelection:b.enhanceTextSelection,renderInteractiveForms:b.renderInteractiveForms,renderer:b.renderer,l10n:b.l10n});h(t);b._pages.push(t)}r.promise.then(function(){if(d.PDFJS.disableAutoFetch)f.resolve();else for(var c=e,g=function(e){a.getPage(e).then(function(a){var d=b._pages[e-1];d.pdfPage||d.setPdfPage(a);b.linkService.cachePageRef(e,a.ref);0===--c&&f.resolve()},function(a){console.error("Unable to get page "+e+" to initialize viewer",a);0===--c&&f.resolve()})},p=1;p<=e;++p)g(p)});b.eventBus.dispatch("pagesinit",{source:b});b.defaultRenderingQueue&&b.update();b.findController&&b.findController.resolveFirstPage()})["catch"](function(a){console.error("Unable to initialize viewer",a)})}}},{key:"setPageLabels",value:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;a=0;for(var b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}}},{key:"_resetView",value:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=c.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new n(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(a){throw Error("Not implemented: _scrollIntoView");}},{key:"_setScaleDispatchEvent",value:function(a,b){var c={source:this,scale:a,presetValue:2<arguments.length&&void 0!==arguments[2]&&arguments[2]?b:void 0};this.eventBus.dispatch("scalechanging",c);this.eventBus.dispatch("scalechange",c)}},{key:"_setScaleUpdatePages",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;this._currentScaleValue=b.toString();var f;f=this._currentScale;f=a===f?!0:1E-15>Math.abs(a-f)?!0:!1;if(f)e&&this._setScaleDispatchEvent(a,b,!0);else{f=0;for(var g=this._pages.length;f<g;f++)this._pages[f].update(a);this._currentScale=a;c||(c=this._currentPageNumber,f=void 0,!this._location||d.PDFJS.ignoreCurrentPositionOnZoom||this.isInPresentationMode||this.isChangingPresentationMode||(c=this._location.pageNumber,f=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:f,allowNegativeOffset:!0}));this._setScaleDispatchEvent(a,b,e);this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,e=parseFloat(a);if(0<e)this._setScaleUpdatePages(e,a,b,!1);else if(e=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-(this.isInPresentationMode||this.removePageBorders?0:c.SCROLLBAR_PADDING))/e.width*e.scale,f=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:c.VERTICAL_PADDING))/e.height*e.scale;switch(a){case "page-actual":e=1;break;case "page-width":e=d;break;case "page-height":e=f;break;case "page-fit":e=Math.min(d,f);break;case "auto":e=Math.min(c.MAX_AUTO_SCALE,e.width>e.height?Math.min(f,d):d);break;default:console.error(this._name+'._setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(e,a,b,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(a){if(1<arguments.length||"number"===typeof a)console.error("Call of scrollPageIntoView() with obsolete signature.");else if(this.pdfDocument){var b=a.pageNumber||0,e=a.destArray||null,d=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!e)this._setCurrentPageNumber(b,!0);else{var f=this._pages[b-1];if(f){var g=0,p=0,h=0,r=0,t,x;x=0===f.rotation%180?!1:!0;t=(x?f.height:f.width)/f.scale/c.CSS_UNITS;x=(x?f.width:f.height)/f.scale/c.CSS_UNITS;switch(e[1].name){case "XYZ":g=e[2];p=e[3];t=e[4];g=null!==g?g:0;p=null!==p?p:x;break;case "Fit":case "FitB":t="page-fit";break;case "FitH":case "FitBH":p=e[2];t="page-width";null===p&&this._location&&(g=this._location.left,p=this._location.top);break;case "FitV":case "FitBV":g=e[2];h=t;r=x;t="page-height";break;case "FitR":g=e[2];p=e[3];h=e[4]-g;r=e[5]-p;x=this.removePageBorders?0:c.VERTICAL_PADDING;t=(this.container.clientWidth-(this.removePageBorders?0:c.SCROLLBAR_PADDING))/h/c.CSS_UNITS;x=(this.container.clientHeight-x)/r/c.CSS_UNITS;t=Math.min(Math.abs(t),Math.abs(x));break;default:console.error(this._name+'.scrollPageIntoView: "'+e[1].name+'" is not a valid destination type.');return}t&&t!==this._currentScale?this.currentScaleValue=t:this._currentScale===c.UNKNOWN_SCALE&&(this.currentScaleValue=c.DEFAULT_SCALE_VALUE);"page-fit"!==t||e[4]?(g=[f.viewport.convertToViewportPoint(g,p),f.viewport.convertToViewportPoint(g+h,p+r)],e=Math.min(g[0][0],g[1][0]),g=Math.min(g[0][1],g[1][1]),d||(e=Math.max(e,0),g=Math.max(g,0)),this._scrollIntoView({pageDiv:f.div,pageSpot:{left:e,top:g},pageNumber:b})):this._scrollIntoView({pageDiv:f.div,pageNumber:b})}else console.error(this._name+'.scrollPageIntoView: Invalid "pageNumber" parameter.')}}}},{key:"_resizeBuffer",value:function(a){this._buffer.resize(Math.max(10,2*a+1))}},{key:"_updateLocation",value:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,e;e="#page\x3d"+c+("\x26zoom\x3d"+b);var d=this.container,d=this._pages[c-1].getPagePoint(d.scrollLeft-a.x,d.scrollTop-a.y);a=Math.round(d[0]);d=Math.round(d[1]);this._location={pageNumber:c,scale:b,top:d,left:a,rotation:this._pagesRotation,pdfOpenParams:e+(","+a+","+d)}}},{key:"update",value:function(){throw Error("Not implemented: update");}},{key:"containsElement",value:function(a){return this.container.contains(a)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",value:function(){throw Error("Not implemented: _getVisiblePages");}},{key:"cleanup",value:function(){for(var a=0,c=this._pages.length;a<c;a++)this._pages[a]&&this._pages[a].renderingState!==b.RenderingStates.FINISHED&&this._pages[a].reset()}},{key:"_cancelRendering",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(a){var b=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var c=a.id;if(this._pagesRequests[c])return this._pagesRequests[c];var e=this.pdfDocument.getPage(c).then(function(e){a.pdfPage||a.setPdfPage(e);b._pagesRequests[c]=null;return e})["catch"](function(a){console.error("Unable to get page for page view",a);b._pagesRequests[c]=null});return this._pagesRequests[c]=e}},{key:"forceRendering",value:function(a){var b=this;a=a||this._getVisiblePages();var c=this.renderingQueue.getHighestPriority(a,this._pages,this.scroll.down);return c?(this._ensurePdfPageLoaded(c).then(function(){b.renderingQueue.renderView(c)}),!0):!1}},{key:"getPageTextContent",value:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})}},{key:"createTextLayerBuilder",value:function(a,b,c){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new t.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:e})}},{key:"createAnnotationLayerBuilder",value:function(b,e){return new a.AnnotationLayerBuilder({pageDiv:b,pdfPage:e,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:this.linkService,downloadManager:this.downloadManager,l10n:3<arguments.length&&void 0!==arguments[3]?arguments[3]:c.NullL10n})}},{key:"setFindController",value:function(a){this.findController=a}},{key:"getPagesOverview",value:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var b=h(a[0]);return a.map(function(a){return b===h(a)?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(a){if(!Number.isInteger(a))throw Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(a,!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(a){var b=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(b=a+1));this.currentPageNumber=b}},{key:"currentScale",get:function(){return this._currentScale!==c.UNKNOWN_SCALE?this._currentScale:c.DEFAULT_SCALE},set:function(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument&&this._setScale(a,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(a){this.pdfDocument&&this._setScale(a,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(a){if(!(0,c.isValidRotation)(a))throw Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==a){this._pagesRotation=a;for(var b=this._currentPageNumber,e=0,d=this._pages.length;e<d;e++){var f=this._pages[e];f.update(f.scale,a)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0);this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:a,pageNumber:b});this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw Error("Not implemented: _setDocumentViewerElement");}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===c.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===c.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}},{key:"hasEqualPageSizes",get:function(){for(var a=this._pages[0],b=1,c=this._pages.length;b<c;++b){var e=this._pages[b];if(e.width!==a.width||e.height!==a.height)return!1}return!0}}]);return f}();f.BaseViewer=l},function(l,f,k){function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(f,"__esModule",{value:!0});f.DefaultAnnotationLayerFactory=f.AnnotationLayerBuilder=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),q=k(1),d=k(0),c=k(5),b=function(){function a(b){var c=b.pageDiv,e=b.pdfPage,f=b.linkService,h=b.downloadManager,k=b.renderInteractiveForms,k=void 0===k?!1:k;b=b.l10n;b=void 0===b?d.NullL10n:b;n(this,a);this.pageDiv=c;this.pdfPage=e;this.linkService=f;this.downloadManager=h;this.renderInteractiveForms=k;this.l10n=b;this.div=null;this._cancelled=!1}h(a,[{key:"render",value:function(a){var b=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(c){if(!b._cancelled){var e={viewport:a.clone({dontFlip:!0}),div:b.div,annotations:c,page:b.pdfPage,renderInteractiveForms:b.renderInteractiveForms,linkService:b.linkService,downloadManager:b.downloadManager};b.div?q.AnnotationLayer.update(e):0!==c.length&&(b.div=document.createElement("div"),b.div.className="annotationLayer",b.pageDiv.appendChild(b.div),e.div=b.div,q.AnnotationLayer.render(e),b.l10n.translate(b.div))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return a}();l=function(){function a(){n(this,a)}h(a,[{key:"createAnnotationLayerBuilder",value:function(a,f){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:d.NullL10n;return new b({pageDiv:a,pdfPage:f,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:new c.SimpleLinkService,l10n:e})}}]);return a}();f.AnnotationLayerBuilder=b;f.DefaultAnnotationLayerFactory=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.PDFPageView=void 0;var n=function(){function b(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),h=k(0),q=k(1),d=k(2),c=k(3);l=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=a.container,f=a.defaultViewport;this.id=a.id;this.renderingId="page"+this.id;this.pageLabel=this.pdfPage=null;this.rotation=0;this.scale=a.scale||h.DEFAULT_SCALE;this.viewport=f;this.pdfPageRotate=f.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=a.renderInteractiveForms||!1;this.eventBus=a.eventBus||(0,d.getGlobalEventBus)();this.renderingQueue=a.renderingQueue;this.textLayerFactory=a.textLayerFactory;this.annotationLayerFactory=a.annotationLayerFactory;this.renderer=a.renderer||h.RendererType.CANVAS;this.l10n=a.l10n||h.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=c.RenderingStates.INITIAL;this.zoomLayer=this.textLayer=this.annotationLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;e.appendChild(a)}n(b,[{key:"setPdfPage",value:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*h.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()}},{key:"destroy",value:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var b=this.zoomLayer.firstChild;this.paintedViewportMap["delete"](b);b.width=0;b.height=0;a&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.cancelRendering(b);var c=this.div;c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+"px";for(var d=c.childNodes,a=a&&this.zoomLayer||null,b=b&&this.annotationLayer&&this.annotationLayer.div||null,f=d.length-1;0<=f;f--){var h=d[f];a!==h&&b!==h&&c.removeChild(h)}c.removeAttribute("data-loaded");b?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null);a||(this.canvas&&(this.paintedViewportMap["delete"](this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap["delete"](this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)}},{key:"update",value:function(a,b){this.scale=a||this.scale;"undefined"!==typeof b&&(this.rotation=b);this.viewport=this.viewport.clone({scale:this.scale*h.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{var c=!1;if(this.canvas&&0<q.PDFJS.maxCanvasPixels){var e=this.outputScale;(Math.floor(this.viewport.width)*e.sx|0)*(Math.floor(this.viewport.height)*e.sy|0)>q.PDFJS.maxCanvasPixels&&(c=!0)}if(this.canvas){if(q.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&c){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=c.RenderingStates.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null);!a&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=this.viewport.width,d=this.viewport.height,f=this.div;a.style.width=a.parentNode.style.width=f.style.width=Math.floor(c)+"px";a.style.height=a.parentNode.style.height=f.style.height=Math.floor(d)+"px";var f=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,h=Math.abs(f),k=1,l=1;if(90===h||270===h)k=d/c,l=c/d;q.CustomStyle.setProp("transform",a,"rotate("+f+"deg) scale("+k+","+l+")");if(this.textLayer){h=this.textLayer.viewport;d=Math.abs(this.viewport.rotation-h.rotation);f=c/h.width;if(90===d||270===d)f=c/h.height;c=this.textLayer.textLayerDiv;k=h=void 0;switch(d){case 0:h=k=0;break;case 90:h=0;k="-"+c.style.height;break;case 180:h="-"+c.style.width;k="-"+c.style.height;break;case 270:h="-"+c.style.width;k=0;break;default:console.error("Bad rotation value.")}q.CustomStyle.setProp("transform",c,"rotate("+d+"deg) scale("+f+", "+f+") translate("+h+", "+k+")");q.CustomStyle.setProp("transformOrigin",c,"0% 0%")}b&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(a,b){return this.viewport.convertToPdfPoint(a,b)}},{key:"draw",value:function(){var a=this;this.renderingState!==c.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());if(!this.pdfPage)return this.renderingState=c.RenderingStates.FINISHED,Promise.reject(Error("Page is not loaded"));this.renderingState=c.RenderingStates.RUNNING;var b=this.pdfPage,d=this.div,f=document.createElement("div");f.style.width=d.style.width;f.style.height=d.style.height;f.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?d.insertBefore(f,this.annotationLayer.div):d.appendChild(f);var k=null;if(this.textLayerFactory){var u=document.createElement("div");u.className="textLayer";u.style.width=f.style.width;u.style.height=f.style.height;this.annotationLayer&&this.annotationLayer.div?d.insertBefore(u,this.annotationLayer.div):d.appendChild(u);k=this.textLayerFactory.createTextLayerBuilder(u,this.id-1,this.viewport,this.enhanceTextSelection)}this.textLayer=k;u=null;this.renderingQueue&&(u=function(b){a.renderingQueue.isHighestPriority(a)?b():(a.renderingState=c.RenderingStates.PAUSED,a.resume=function(){a.renderingState=c.RenderingStates.RUNNING;b()})});var r=function(e){l===a.paintTask&&(a.paintTask=null);if("cancelled"===e||e instanceof q.RenderingCancelledException)return a.error=null,Promise.resolve(void 0);a.renderingState=c.RenderingStates.FINISHED;a.loadingIconDiv&&(d.removeChild(a.loadingIconDiv),delete a.loadingIconDiv);a._resetZoomLayer(!0);a.error=e;a.stats=b.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:!1});return e?Promise.reject(e):Promise.resolve(void 0)},l=this.renderer===h.RendererType.SVG?this.paintOnSvg(f):this.paintOnCanvas(f);l.onRenderContinue=u;this.paintTask=l;f=l.promise.then(function(){return r(null).then(function(){if(k){var a=b.streamTextContent({normalizeWhitespace:!0});k.setTextContentStream(a);k.render()}})},function(a){return r(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(d,b,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display"));d.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return f}},{key:"paintOnCanvas",value:function(a){var b=(0,q.createPromiseCapability)(),c={promise:b.promise,onRenderContinue:function(a){a()},cancel:function(){B.cancel()}},d=this.viewport,f=document.createElement("canvas");f.id=this.renderingId;f.setAttribute("hidden","hidden");var k=!0,l=function(){k&&(f.removeAttribute("hidden"),k=!1)};a.appendChild(f);this.canvas=f;f.mozOpaque=!0;a=f.getContext("2d",{alpha:!1});var n=(0,h.getOutputScale)(a);this.outputScale=n;if(q.PDFJS.useOnlyCssZoom){var w=d.clone({scale:h.CSS_UNITS});n.sx*=w.width/d.width;n.sy*=w.height/d.height;n.scaled=!0}0<q.PDFJS.maxCanvasPixels&&(w=Math.sqrt(q.PDFJS.maxCanvasPixels/(d.width*d.height)),n.sx>w||n.sy>w?(n.sx=w,n.sy=w,this.hasRestrictedScaling=n.scaled=!0):this.hasRestrictedScaling=!1);var w=(0,h.approximateFraction)(n.sx),E=(0,h.approximateFraction)(n.sy);f.width=(0,h.roundToDivide)(d.width*n.sx,w[0]);f.height=(0,h.roundToDivide)(d.height*n.sy,E[0]);f.style.width=(0,h.roundToDivide)(d.width,w[1])+"px";f.style.height=(0,h.roundToDivide)(d.height,E[1])+"px";this.paintedViewportMap.set(f,d);var B=this.pdfPage.render({canvasContext:a,transform:n.scaled?[n.sx,0,0,n.sy,0,0]:null,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});B.onContinue=function(a){l();if(c.onRenderContinue)c.onRenderContinue(a);else a()};B.promise.then(function(){l();b.resolve(void 0)},function(a){l();b.reject(a)});return c}},{key:"paintOnSvg",value:function(a){var b=this,d=!1,f=function(){if(d){if(q.PDFJS.pdfjsNext)throw new q.RenderingCancelledException("Rendering cancelled, page "+b.id,"svg");throw"cancelled";}},k=this.pdfPage,l=this.viewport.clone({scale:h.CSS_UNITS});return{promise:k.getOperatorList().then(function(e){f();return(new q.SVGGraphics(k.commonObjs,k.objs)).getSVG(e,l).then(function(e){f();b.svg=e;b.paintedViewportMap.set(e,l);e.style.width=a.style.width;e.style.height=a.style.height;b.renderingState=c.RenderingStates.FINISHED;a.appendChild(e)})}),onRenderContinue:function(a){a()},cancel:function(){d=!0}}}},{key:"setPageLabel",value:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]);return b}();f.PDFPageView=l},function(l,f,k){function n(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(f,"__esModule",{value:!0});f.DefaultTextLayerFactory=f.TextLayerBuilder=void 0;var h=function(){function b(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),q=k(2),d=k(1),c=function(){function b(a){var c=a.textLayerDiv,d=a.eventBus,f=a.pageIndex,h=a.viewport,k=a.findController,k=void 0===k?null:k;a=a.enhanceTextSelection;a=void 0===a?!1:a;n(this,b);this.textLayerDiv=c;this.eventBus=d||(0,q.getGlobalEventBus)();this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=f;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=h;this.textDivs=[];this.findController=k;this.textLayerRenderTask=null;this.enhanceTextSelection=a;this._bindMouse()}h(b,[{key:"_finishRendering",value:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var a=document.createElement("div");a.className="endOfContent";this.textLayerDiv.appendChild(a)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel();this.textDivs=[];var c=document.createDocumentFragment();this.textLayerRenderTask=(0,d.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:c,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:b,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){a.textLayerDiv.appendChild(c);a._finishRendering();a.updateMatches()},function(a){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(a){this.cancel();this.textContentStream=a}},{key:"setTextContent",value:function(a){this.cancel();this.textContent=a}},{key:"convertMatches",value:function(a,b){var c=0,e=0,d=this.textContentItemsStr,f=d.length-1,h=null===this.findController?0:this.findController.state.query.length,k=[];if(!a)return k;for(var q=0,l=a.length;q<l;q++){for(var n=a[q];c!==f&&n>=e+d[c].length;)e+=d[c].length,c++;c===d.length&&console.error("Could not find a matching mapping");for(var A={begin:{divIdx:c,offset:n-e}},n=b?n+b[q]:n+h;c!==f&&n>e+d[c].length;)e+=d[c].length,c++;A.end={divIdx:c,offset:n-e};k.push(A)}return k}},{key:"renderMatches",value:function(a){function b(a,b){var e=a.divIdx;f[e].textContent="";c(e,0,a.offset,b)}function c(a,b,c,e){var g=f[a];a=d[a].substring(b,c);a=document.createTextNode(a);e?(b=document.createElement("span"),b.className=e,b.appendChild(a),g.appendChild(b)):g.appendChild(a)}if(0!==a.length){var d=this.textContentItemsStr,f=this.textDivs,h=null,k=this.pageIdx,q=null===this.findController?!1:k===this.findController.selected.pageIdx,l=null===this.findController?-1:this.findController.selected.matchIdx,n=l,B=n+1;if(null===this.findController?0:this.findController.state.highlightAll)n=0,B=a.length;else if(!q)return;for(;n<B;n++){var A=a[n],C=A.begin,A=A.end,D=q&&n===l?" selected":"";this.findController&&this.findController.updateMatchPosition(k,n,f,C.divIdx);h&&C.divIdx===h.divIdx?c(h.divIdx,h.offset,C.offset):(null!==h&&c(h.divIdx,h.offset,void 0),b(C));if(C.divIdx===A.divIdx)c(C.divIdx,C.offset,A.offset,"highlight"+D);else{c(C.divIdx,C.offset,void 0,"highlight begin"+D);h=C.divIdx+1;for(C=A.divIdx;h<C;h++)f[h].className="highlight middle"+D;b(A,"highlight end"+D)}h=A}h&&c(h.divIdx,h.offset,void 0)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var a=this.matches,b=this.textDivs,c=this.textContentItemsStr,d=-1,f=0,h=a.length;f<h;f++){for(var k=a[f],d=Math.max(d,k.begin.divIdx),q=k.end.divIdx;d<=q;d++){var l=b[d];l.textContent=c[d];l.className=""}d=k.end.divIdx+1}null!==this.findController&&this.findController.active&&(b=a=void 0,null!==this.findController&&(a=this.findController.pageMatches[this.pageIdx]||null,b=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null),this.matches=this.convertMatches(a,b),this.renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var a=this,b=this.textLayerDiv,c=null;b.addEventListener("mousedown",function(d){if(a.enhanceTextSelection&&a.textLayerRenderTask)a.textLayerRenderTask.expandTextDivs(!0),c&&(clearTimeout(c),c=null);else{var e=b.querySelector(".endOfContent");if(e){var f=d.target!==b;if(f=f&&"none"!==window.getComputedStyle(e).getPropertyValue("-moz-user-select"))f=b.getBoundingClientRect(),e.style.top=(100*Math.max(0,(d.pageY-f.top)/f.height)).toFixed(2)+"%";e.classList.add("active")}}});b.addEventListener("mouseup",function(){if(a.enhanceTextSelection&&a.textLayerRenderTask)c=setTimeout(function(){a.textLayerRenderTask&&a.textLayerRenderTask.expandTextDivs(!1);c=null},300);else{var d=b.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))}})}}]);return b}();l=function(){function b(){n(this,b)}h(b,[{key:"createTextLayerBuilder",value:function(a,b,d){return new c({textLayerDiv:a,pageIndex:b,viewport:d,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}}]);return b}();f.TextLayerBuilder=c;f.DefaultTextLayerFactory=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.SecondaryToolbar=void 0;var n=function(){function d(c,b){for(var a=0;a<b.length;a++){var d=b[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),h=k(6),q=k(0);l=function(){function d(c,b,a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.toolbar=c.toolbar;this.toggleButton=c.toggleButton;this.toolbarButtonContainer=c.toolbarButtonContainer;this.buttons=[{element:c.presentationModeButton,eventName:"presentationmode",close:!0},{element:c.openFileButton,eventName:"openfile",close:!0},{element:c.printButton,eventName:"print",close:!0},{element:c.downloadButton,eventName:"download",close:!0},{element:c.viewBookmarkButton,eventName:null,close:!0},{element:c.firstPageButton,eventName:"firstpage",close:!0},{element:c.lastPageButton,eventName:"lastpage",close:!0},{element:c.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:c.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:c.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:h.CursorTool.SELECT},close:!0},{element:c.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:h.CursorTool.HAND},close:!0},{element:c.documentPropertiesButton,eventName:"documentproperties",close:!0}];this.items={firstPage:c.firstPageButton,lastPage:c.lastPageButton,pageRotateCw:c.pageRotateCwButton,pageRotateCcw:c.pageRotateCcwButton};this.mainContainer=b;this.eventBus=a;this.opened=!1;this.previousContainerHeight=this.containerHeight=null;this.reset();this._bindClickListeners();this._bindCursorToolsListener(c);this.eventBus.on("resize",this._setMaxHeight.bind(this))}n(d,[{key:"setPageNumber",value:function(c){this.pageNumber=c;this._updateUIState()}},{key:"setPagesCount",value:function(c){this.pagesCount=c;this._updateUIState()}},{key:"reset",value:function(){this.pagesCount=this.pageNumber=0;this._updateUIState()}},{key:"_updateUIState",value:function(){this.items.firstPage.disabled=1>=this.pageNumber;this.items.lastPage.disabled=this.pageNumber>=this.pagesCount;this.items.pageRotateCw.disabled=0===this.pagesCount;this.items.pageRotateCcw.disabled=0===this.pagesCount}},{key:"_bindClickListeners",value:function(){var c=this;this.toggleButton.addEventListener("click",this.toggle.bind(this));var b=function(a){a=c.buttons[a];var b=a.eventName,d=a.close,e=a.eventDetails;a.element.addEventListener("click",function(a){if(null!==b){a={source:c};for(var f in e)a[f]=e[f];c.eventBus.dispatch(b,a)}d&&c.close()})},a;for(a in this.buttons)b(a)}},{key:"_bindCursorToolsListener",value:function(c){this.eventBus.on("cursortoolchanged",function(b){c.cursorSelectToolButton.classList.remove("toggled");c.cursorHandToolButton.classList.remove("toggled");switch(b.tool){case h.CursorTool.SELECT:c.cursorSelectToolButton.classList.add("toggled");break;case h.CursorTool.HAND:c.cursorHandToolButton.classList.add("toggled")}})}},{key:"open",value:function(){this.opened||(this.opened=!0,this._setMaxHeight(),this.toggleButton.classList.add("toggled"),this.toolbar.classList.remove("hidden"))}},{key:"close",value:function(){this.opened&&(this.opened=!1,this.toolbar.classList.add("hidden"),this.toggleButton.classList.remove("toggled"))}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"_setMaxHeight",value:function(){this.opened&&(this.containerHeight=this.mainContainer.clientHeight,this.containerHeight!==this.previousContainerHeight&&(this.toolbarButtonContainer.setAttribute("style","max-height: "+(this.containerHeight-q.SCROLLBAR_PADDING)+"px;"),this.previousContainerHeight=this.containerHeight))}},{key:"isOpen",get:function(){return this.opened}}]);return d}();f.SecondaryToolbar=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.Toolbar=void 0;var n=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}(),h=k(0);l=function(){function f(d,c,b){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:h.NullL10n;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.toolbar=d.container;this.mainContainer=c;this.eventBus=b;this.l10n=a;this.items=d;this._wasLocalized=!1;this.reset();this._bindListeners()}n(f,[{key:"setPageNumber",value:function(d,c){this.pageNumber=d;this.pageLabel=c;this._updateUIState(!1)}},{key:"setPagesCount",value:function(d,c){this.pagesCount=d;this.hasPageLabels=c;this._updateUIState(!0)}},{key:"setPageScale",value:function(d,c){this.pageScaleValue=d;this.pageScale=c;this._updateUIState(!1)}},{key:"reset",value:function(){this.pageNumber=0;this.pageLabel=null;this.hasPageLabels=!1;this.pagesCount=0;this.pageScaleValue=h.DEFAULT_SCALE_VALUE;this.pageScale=h.DEFAULT_SCALE;this._updateUIState(!0)}},{key:"_bindListeners",value:function(){var d=this,c=this.eventBus,b=this.items,a=this;b.previous.addEventListener("click",function(){c.dispatch("previouspage")});b.next.addEventListener("click",function(){c.dispatch("nextpage")});b.zoomIn.addEventListener("click",function(){c.dispatch("zoomin")});b.zoomOut.addEventListener("click",function(){c.dispatch("zoomout")});b.pageNumber.addEventListener("click",function(){this.select()});b.pageNumber.addEventListener("change",function(){c.dispatch("pagenumberchanged",{source:a,value:this.value})});b.scaleSelect.addEventListener("change",function(){"custom"!==this.value&&c.dispatch("scalechanged",{source:a,value:this.value})});b.presentationModeButton.addEventListener("click",function(){c.dispatch("presentationmode")});b.openFile.addEventListener("click",function(){c.dispatch("openfile")});b.print.addEventListener("click",function(){c.dispatch("print")});b.download.addEventListener("click",function(){c.dispatch("download")});b.scaleSelect.oncontextmenu=h.noContextMenuHandler;c.on("localized",function(){d._localized()})}},{key:"_localized",value:function(){this._wasLocalized=!0;this._adjustScaleWidth();this._updateUIState(!0)}},{key:"_updateUIState",value:function(){if(this._wasLocalized){var d=this.pageNumber,c=this.pagesCount,b=this.items,a=(this.pageScaleValue||this.pageScale).toString(),e=this.pageScale;0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.hasPageLabels?b.pageNumber.type="text":(b.pageNumber.type="number",this.l10n.get("of_pages",{pagesCount:c},"of {{pagesCount}}").then(function(a){b.numPages.textContent=a})),b.pageNumber.max=c);this.hasPageLabels?(b.pageNumber.value=this.pageLabel,this.l10n.get("page_of_pages",{pageNumber:d,pagesCount:c},"({{pageNumber}} of {{pagesCount}})").then(function(a){b.numPages.textContent=a})):b.pageNumber.value=d;b.previous.disabled=1>=d;b.next.disabled=d>=c;b.zoomOut.disabled=e<=h.MIN_SCALE;b.zoomIn.disabled=e>=h.MAX_SCALE;this.l10n.get("page_scale_percent",{scale:Math.round(1E4*e)/100},"{{scale}}%").then(function(c){for(var d=b.scaleSelect.options,e=!1,f=0,g=d.length;f<g;f++){var h=d[f];h.value!==a?h.selected=!1:e=h.selected=!0}e||(b.customScaleOption.textContent=c,b.customScaleOption.selected=!0)})}}},{key:"updateLoadingIndicatorState",value:function(){var d=this.items.pageNumber;0<arguments.length&&void 0!==arguments[0]&&arguments[0]?d.classList.add("visiblePageIsLoading"):d.classList.remove("visiblePageIsLoading")}},{key:"_adjustScaleWidth",value:function(){var d=this.items.scaleSelectContainer,c=this.items.scaleSelect;h.animationStarted.then(function(){0===d.clientWidth&&d.setAttribute("style","display: inherit;");if(0<d.clientWidth){c.setAttribute("style","min-width: inherit;");var b=c.clientWidth+8;c.setAttribute("style","min-width: "+(b+22)+"px;");d.setAttribute("style","min-width: "+b+"px; max-width: "+b+"px;")}})}}]);return f}();f.Toolbar=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});var n=function(){function f(f,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(f,b.key,b)}}return function(h,d,c){d&&f(h.prototype,d);c&&f(h,c);return h}}();l=function(){function f(h){var d=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.fingerprint=h;this.cacheSize=c;this._initializedPromise=this._readFromStorage().then(function(b){b=JSON.parse(b||"{}");"files"in b||(b.files=[]);b.files.length>=d.cacheSize&&b.files.shift();for(var a=void 0,c=0,f=b.files.length;c<f;c++)if(b.files[c].fingerprint===d.fingerprint){a=c;break}"number"!==typeof a&&(a=b.files.push({fingerprint:d.fingerprint})-1);d.file=b.files[a];d.database=b})}n(f,[{key:"_writeToStorage",value:function(){var f=this;return new Promise(function(d){var c=JSON.stringify(f.database);localStorage.setItem("pdfjs.history",c);d()})}},{key:"_readFromStorage",value:function(){return new Promise(function(f){f(localStorage.getItem("pdfjs.history"))})}},{key:"set",value:function(f,d){var c=this;return this._initializedPromise.then(function(){c.file[f]=d;return c._writeToStorage()})}},{key:"setMultiple",value:function(f){var d=this;return this._initializedPromise.then(function(){for(var c in f)d.file[c]=f[c];return d._writeToStorage()})}},{key:"get",value:function(f,d){var c=this;return this._initializedPromise.then(function(){var b=c.file[f];return void 0!==b?b:d})}},{key:"getMultiple",value:function(f){var d=this;return this._initializedPromise.then(function(){var c=Object.create(null),b;for(b in f){var a=d.file[b];c[b]=void 0!==a?a:f[b]}return c})}}]);return f}();f.ViewHistory=l},function(l,f,k){function n(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.GenericCom=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=k(4);var q=k(30),d=k(31),c=k(32),b=k(1),a=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}n(b,a);h(b,[{key:"_writeToStorage",value:function(a){return new Promise(function(b){localStorage.setItem("pdfjs.preferences",JSON.stringify(a));b()})}},{key:"_readFromStorage",value:function(a){return new Promise(function(a){var b=JSON.parse(localStorage.getItem("pdfjs.preferences"));a(b)})}}]);return b}(q.BasePreferences);k=Object.create(l.DefaultExternalServices);k.createDownloadManager=function(){return new d.DownloadManager};k.createPreferences=function(){return new a};k.createL10n=function(){return new c.GenericL10n(b.PDFJS.locale)};l.PDFViewerApplication.externalServices=k;f.GenericCom={}},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.BasePreferences=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},h=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}(),q=k(0),d=null;l=function(){function c(){var b=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");if(this.constructor===c)throw Error("Cannot initialize BasePreferences.");this.prefs=null;d||(d=Promise.resolve({showPreviousViewOnLoad:!0,defaultZoomValue:"",sidebarViewOnLoad:0,enableHandToolOnLoad:!1,cursorToolOnLoad:0,enableWebGL:!1,pdfBugEnabled:!1,disableRange:!1,disableStream:!1,disableAutoFetch:!1,disableFontFace:!1,disableTextLayer:!1,useOnlyCssZoom:!1,externalLinkTarget:0,enhanceTextSelection:!1,renderer:"canvas",renderInteractiveForms:!1,enablePrintAutoRotate:!1,disablePageMode:!1,disablePageLabels:!1}));this._initializedPromise=d.then(function(a){Object.defineProperty(b,"defaults",{value:Object.freeze(a),writable:!1,enumerable:!0,configurable:!1});b.prefs=(0,q.cloneObj)(a);return b._readFromStorage(a)}).then(function(a){a&&(b.prefs=a)})}h(c,[{key:"_writeToStorage",value:function(b){return Promise.reject(Error("Not implemented: _writeToStorage"))}},{key:"_readFromStorage",value:function(b){return Promise.reject(Error("Not implemented: _readFromStorage"))}},{key:"reset",value:function(){var b=this;return this._initializedPromise.then(function(){b.prefs=(0,q.cloneObj)(b.defaults);return b._writeToStorage(b.defaults)})}},{key:"reload",value:function(){var b=this;return this._initializedPromise.then(function(){return b._readFromStorage(b.defaults)}).then(function(a){a&&(b.prefs=a)})}},{key:"set",value:function(b,a){var c=this;return this._initializedPromise.then(function(){if(void 0===c.defaults[b])throw Error('Set preference: "'+b+'" is undefined.');if(void 0===a)throw Error("Set preference: no value is specified.");var d="undefined"===typeof a?"undefined":n(a),e=n(c.defaults[b]);if(d!==e)if("number"===d&&"string"===e)a=a.toString();else throw Error('Set preference: "'+a+'" is a '+d+", "+("expected a "+e+"."));else if("number"===d&&!Number.isInteger(a))throw Error('Set preference: "'+a+'" must be an integer.');c.prefs[b]=a;return c._writeToStorage(c.prefs)})}},{key:"get",value:function(b){var a=this;return this._initializedPromise.then(function(){var c=a.defaults[b];if(void 0===c)throw Error('Get preference: "'+b+'" is undefined.');var d=a.prefs[b];return void 0!==d?d:c})}}]);return c}();f.BasePreferences=l},function(l,f,k){function n(d,c){var b=document.createElement("a");b.click?(b.href=d,b.target="_parent","download"in b&&(b.download=c),(document.body||document.documentElement).appendChild(b),b.click(),b.parentNode.removeChild(b)):(window.top===window&&d.split("#")[0]===window.location.href.split("#")[0]&&(b=-1===d.indexOf("?")?"?":"\x26",d=d.replace(/#|$/,b+"$\x26")),window.open(d,"_parent"))}Object.defineProperty(f,"__esModule",{value:!0});f.DownloadManager=void 0;var h=function(){function d(c,b){for(var a=0;a<b.length;a++){var d=b[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),q=k(1);l=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");}h(d,[{key:"downloadUrl",value:function(c,b){(0,q.createValidAbsoluteUrl)(c,"http://example.com")&&n(c+"#pdfjs.action\x3ddownload",b)}},{key:"downloadData",value:function(c,b,a){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([c],{type:a}),b);c=(0,q.createObjectURL)(c,a,q.PDFJS.disableCreateObjectURL);n(c,b)}},{key:"download",value:function(c,b,a){navigator.msSaveBlob?navigator.msSaveBlob(c,a)||this.downloadUrl(b,a):q.PDFJS.disableCreateObjectURL?this.downloadUrl(b,a):(c=URL.createObjectURL(c),n(c,a))}}]);return d}();f.DownloadManager=l},function(l,f,k){Object.defineProperty(f,"__esModule",{value:!0});f.GenericL10n=void 0;var n=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}();k(33);var h=document.webL10n;l=function(){function f(d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._lang=d;this._ready=new Promise(function(c,b){h.setLanguage(d,function(){c(h)})})}n(f,[{key:"getDirection",value:function(){return this._ready.then(function(d){return d.getDirection()})}},{key:"get",value:function(d,c,b){return this._ready.then(function(a){return a.get(d,c,b)})}},{key:"translate",value:function(d){return this._ready.then(function(c){return c.translate(d)})}}]);return f}();f.GenericL10n=l},function(l,f,k){document.webL10n=function(f,h,k){function d(){var a=h.querySelector('script[type\x3d"application/l10n"]');return a?JSON.parse(a.innerHTML):null}function c(a){var b=h.createEvent("Event");b.initEvent("localized",!0,!1);b.language=a;h.dispatchEvent(b)}function b(a,b,c){b=b||function(a){};c=c||function(){};var d=new XMLHttpRequest;d.open("GET",a,!0);d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8");d.onreadystatechange=function(){4==d.readyState&&(200==d.status||0===d.status?b(d.responseText):c())};d.onerror=c;d.ontimeout=c;try{d.send(null)}catch(H){c()}}function a(a,c,d,e){function f(a,d){function e(a,b,d){function e(){for(;;){if(!q.length){d();break}var a=q.shift();if(!x.test(a)){if(b){if(D=l.exec(a)){w=D[1].toLowerCase();r="*"!==w&&w!==c&&w!==A;continue}else if(r)continue;if(D=n.exec(a)){f(g+D[1],e);break}}var k=a.match(p);k&&3==k.length&&(a=k[1],k=k[2],k=0>k.lastIndexOf("\\")?k:k.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'"),h[a]=k)}}}var q=a.replace(k,"").split(/[\r\n]+/),w="*",A=c.split("-",1)[0],r=!1,D="";e()}function f(a,c){b(a,function(a){e(a,!1,c)},function(){console.warn(a+" not found.");c()})}var h={},k=/^\s*|\s*$/,x=/^\s*#|^\s*$/,l=/^\s*\[(.*)\]\s*$/,n=/^\s*@import\s+url\((.*)\)\s*$/i,p=/^([^=\s]*)\s*=\s*(.+)$/;e(a,!0,function(){d(h)})}var g=a.replace(/[^\/]*$/,"")||"./";b(a,function(a){z+=a;f(a,function(a){for(var b in a){var c,e;e=b.lastIndexOf(".");0<e?(c=b.substring(0,e),e=b.substr(e+1)):(c=b,e="textContent");r[c]||(r[c]={});r[c][e]=a[b]}d&&d()})},e)}function e(b,e){function f(b){var c=b.href;this.load=function(b,d){a(c,b,d,function(){console.warn(c+" not found.");console.warn('"'+b+'" resource not found');w="";d()})}}b&&(b=b.toLowerCase());e=e||function(){};r={};w=z="";w=b;var g=h.querySelectorAll('link[type\x3d"application/l10n"]'),k=g.length;if(0===k){if((g=d())&&g.locales&&g.default_locale){console.log("using the embedded JSON directory, early way out");r=g.locales[b];if(!r){var x=g.default_locale.toLowerCase(),l;for(l in g.locales)if(l=l.toLowerCase(),l===b){r=g.locales[b];break}else l===x&&(r=g.locales[x])}e()}else console.log("no resource to load, early way out");c(b);B="complete"}else{l=null;var n=0;l=function(){n++;n>=k&&(e(),c(b),B="complete")};for(x=0;x<k;x++)(new f(g[x])).load(b,l)}}function g(a){function b(a,b){return-1!==b.indexOf(a)}function c(a,b,c){return b<=a&&a<=c}var d={0:function(a){return"other"},1:function(a){return c(a%100,3,10)?"few":0===a?"zero":c(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return c(a,0,1)?"one":"other"},5:function(a){return c(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":1==a%10&&11!=a%100?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return c(a,3,6)?"few":c(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&c(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return c(a%10,2,9)&&!c(a%100,11,19)?"few":1!=a%10||c(a%100,11,19)?"other":"one"},11:function(a){return c(a%10,2,4)&&!c(a%100,12,14)?"few":0===a%10||c(a%10,5,9)||c(a%100,11,14)?"many":1==a%10&&11!=a%100?"one":"other"},12:function(a){return c(a,2,4)?"few":1==a?"one":"other"},13:function(a){return c(a%10,2,4)&&!c(a%100,12,14)?"few":1!=a&&c(a%10,0,1)||c(a%10,5,9)||c(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return c(a%100,3,4)?"few":2==a%100?"two":1==a%100?"one":"other"},15:function(a){return 0===a||c(a%100,2,10)?"few":c(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return 1==a%10&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":c(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return c(a,2,10)?"few":c(a,0,1)?"one":"other"},20:function(a){return!c(a%10,3,4)&&9!=a%10||c(a%100,10,19)||c(a%100,70,79)||c(a%100,90,99)?0===a%1E6&&0!==a?"many":2!=a%10||b(a%100,[12,72,92])?1!=a%10||b(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return c(a,0,1)||c(a,11,99)?"one":"other"},23:function(a){return c(a%10,1,2)||0===a%20?"one":"other"},24:function(a){return c(a,3,10)||c(a,13,19)?"few":b(a,[2,12])?"two":b(a,[1,11])?"one":"other"}},e={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return e in d?d[e]:(console.warn("plural form unknown for ["+a+"]"),function(){return"other"})}function l(a,b,c){var d=r[a];if(!d){console.warn("#"+a+" is undefined.");if(!c)return null;d=c}c={};for(var e in d){var f=d[e];var g=b,h=a,k=e,l=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(f);if(l&&l.length){var p=l[1],l=l[2],q=void 0;g&&l in g?q=g[l]:l in r&&(q=r[l]);p in E&&(f=(0,E[p])(f,q,h,k))}f=n(f,b,a);c[e]=f}return c}function n(a,b,c){return a.replace(/\{\{\s*(.+?)\s*\}\}/g,function(a,d){if(b&&d in b)return b[d];if(d in r)return r[d];console.log("argument {{"+d+"}} for #"+c+" is undefined.");return a})}function q(a){var b,c;if(a){b=a.getAttribute("data-l10n-id");var d=a.getAttribute("data-l10n-args");c={};if(d)try{c=JSON.parse(d)}catch(I){console.warn("could not parse arguments for #"+b)}}else c=b=void 0;if(b)if(c=l(b,c)){if(c.textContent){if(a.children)b=a.children.length;else if("undefined"!==typeof a.childElementCount)b=a.childElementCount;else for(d=b=0;d<a.childNodes.length;d++)b+=1===a.nodeType?1:0;if(0===b)a.textContent=c.textContent;else{b=a.childNodes;for(var d=!1,e=0,f=b.length;e<f;e++)3===b[e].nodeType&&/\S/.test(b[e].nodeValue)&&(d?b[e].nodeValue="":(b[e].nodeValue=c.textContent,d=!0));d||(b=h.createTextNode(c.textContent),a.insertBefore(b,a.firstChild))}delete c.textContent}for(var g in c)a[g]=c[g]}else console.warn("#"+b+" is undefined.")}var r={},z="",w="",E={},B="loading";E.plural=function(a,b,c,d){b=parseFloat(b);if(isNaN(b)||"textContent"!=d)return a;E._pluralRules||(E._pluralRules=g(w));var e="["+E._pluralRules(b)+"]";0===b&&c+"[zero]"in r?a=r[c+"[zero]"][d]:1==b&&c+"[one]"in r?a=r[c+"[one]"][d]:2==b&&c+"[two]"in r?a=r[c+"[two]"][d]:c+e in r?a=r[c+e][d]:c+"[other]"in r&&(a=r[c+"[other]"][d]);return a};return{get:function(a,b,c){var d=a.lastIndexOf("."),e="textContent";0<d&&(e=a.substr(d+1),a=a.substring(0,d));var f;c&&(f={},f[e]=c);return(b=l(a,b,f))&&e in b?b[e]:"{{"+a+"}}"},getData:function(){return r},getText:function(){return z},getLanguage:function(){return w},setLanguage:function(a,b){e(a,function(){b&&b()})},getDirection:function(){var a=w.split("-",1)[0];return 0<=["ar","he","fa","ps","ur"].indexOf(a)?"rtl":"ltr"},translate:function(a){for(var b=(a=a||h.documentElement)?a.querySelectorAll("*[data-l10n-id]"):[],c=b.length,d=0;d<c;d++)q(b[d]);q(a)},getReadyState:function(){return B},ready:function(a){a&&("complete"==B||"interactive"==B?f.setTimeout(function(){a()}):h.addEventListener&&h.addEventListener("localized",function D(){h.removeEventListener("localized",D);a()}))}}}(window,document)},function(l,f,k){function n(b,c,d,e){b=p.scratchCanvas;var f=150/72;b.width=Math.floor(e.width*f);b.height=Math.floor(e.height*f);var g=Math.floor(e.width*a.CSS_UNITS)+"px",h=Math.floor(e.height*a.CSS_UNITS)+"px",k=b.getContext("2d");k.save();k.fillStyle="rgb(255, 255, 255)";k.fillRect(0,0,b.width,b.height);k.restore();return c.getPage(d).then(function(a){var b={canvasContext:k,transform:[f,0,0,f,0,0],viewport:a.getViewport(1,e.rotation),intent:"print"};return a.render(b).promise}).then(function(){return{width:g,height:h}})}function h(b,c,d,e){this.pdfDocument=b;this.pagesOverview=c;this.printContainer=d;this.l10n=e||a.NullL10n;this.currentPage=-1;this.scratchCanvas=document.createElement("canvas")}function q(a){var b=document.createEvent("CustomEvent");b.initCustomEvent(a,!1,!1,"custom");window.dispatchEvent(b)}function d(){p&&(p.destroy(),q("afterprint"))}function c(a,b,c){var d=document.getElementById("printServiceOverlay");a=Math.round(100*a/b);b=d.querySelector("progress");var e=d.querySelector(".relative-progress");b.value=a;c.get("print_progress_percent",{progress:a},a+"%").then(function(a){e.textContent=a})}function b(){if(!z){t=e.PDFViewerApplication.overlayManager;if(!t)throw Error("The overlay manager has not yet been initialized.");z=t.register("printServiceOverlay",document.getElementById("printServiceOverlay"),d,!0);document.getElementById("printCancel").onclick=d}return z}Object.defineProperty(f,"__esModule",{value:!0});f.PDFPrintService=void 0;var a=k(0),e=k(4),g=k(1),p=null,t=null;h.prototype={layout:function(){this.throwIfInactive();var a=document.querySelector("body");a.setAttribute("data-pdfjsprinting",!0);this.pagesOverview.every(function(a){return a.width===this.pagesOverview[0].width&&a.height===this.pagesOverview[0].height},this)||console.warn("Not all pages have the same size. The printed result may be incorrect!");this.pageStyleSheet=document.createElement("style");var b=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { size: "+b.width+"pt "+b.height+"pt;}}";a.appendChild(this.pageStyleSheet)},destroy:function(){p===this&&(this.printContainer.textContent="",this.pageStyleSheet&&this.pageStyleSheet.parentNode&&(this.pageStyleSheet.parentNode.removeChild(this.pageStyleSheet),this.pageStyleSheet=null),this.scratchCanvas.width=this.scratchCanvas.height=0,p=this.scratchCanvas=null,b().then(function(){"printServiceOverlay"===t.active&&t.close("printServiceOverlay")}))},renderPages:function(){var a=this,b=this.pagesOverview.length;return new Promise(function A(d,e){a.throwIfInactive();if(++a.currentPage>=b)c(b,b,a.l10n),d();else{var f=a.currentPage;c(f,b,a.l10n);n(a,a.pdfDocument,f+1,a.pagesOverview[f]).then(a.useRenderedPage.bind(a)).then(function(){A(d,e)},e)}})},useRenderedPage:function(a){this.throwIfInactive();var b=document.createElement("img");b.style.width=a.width;b.style.height=a.height;a=this.scratchCanvas;"toBlob"in a&&!g.PDFJS.disableCreateObjectURL?a.toBlob(function(a){b.src=URL.createObjectURL(a)}):b.src=a.toDataURL();a=document.createElement("div");a.appendChild(b);this.printContainer.appendChild(a);return new Promise(function(a,c){b.onload=a;b.onerror=c})},performPrint:function(){var a=this;this.throwIfInactive();return new Promise(function(b){setTimeout(function(){a.active?(u.call(window),setTimeout(b,20)):b()},0)})},get active(){return this===p},throwIfInactive:function(){if(!this.active)throw Error("This print request was cancelled or completed.");}};var u=window.print;window.print=function(){if(p)console.warn("Ignored window.print() because of a pending print job.");else{b().then(function(){p&&t.open("printServiceOverlay")});try{q("beforeprint")}finally{if(!p){console.error("Expected print service to be initialized.");b().then(function(){"printServiceOverlay"===t.active&&t.close("printServiceOverlay")});return}var a=p;p.renderPages().then(function(){return a.performPrint()})["catch"](function(){}).then(function(){a.active&&d()})}}};var r=!!document.attachEvent;window.addEventListener("keydown",function(a){80!==a.keyCode||!a.ctrlKey&&!a.metaKey||a.altKey||a.shiftKey&&!window.chrome&&!window.opera||(window.print(),r||(a.preventDefault(),a.stopImmediatePropagation?a.stopImmediatePropagation():a.stopPropagation()))},!0);r&&document.attachEvent("onkeydown",function(a){a=a||window.event;if(80===a.keyCode&&a.ctrlKey)return a.keyCode=0,!1});"onbeforeprint"in window&&(l=function(a){"custom"!==a.detail&&a.stopImmediatePropagation&&a.stopImmediatePropagation()},window.addEventListener("beforeprint",l),window.addEventListener("afterprint",l));var z=void 0;e.PDFPrintServiceFactory.instance={supportsPrinting:!0,createPrintService:function(a,b,c,d){if(p)throw Error("The print service is created and active.");return p=new h(a,b,c,d)}};f.PDFPrintService=h}]);